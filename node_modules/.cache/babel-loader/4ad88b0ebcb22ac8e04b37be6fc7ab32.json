{"ast":null,"code":"import { get } from '@/utils/request';\nexport default {\n  data() {\n    return {\n      currentPage: 1,\n      pagesize: 15,\n      dialogVisible: false,\n      dialogVisible1: false,\n      list: []\n    };\n  },\n\n  mounted() {\n    get('http://localhost:8080/allOrder').then(res => {\n      const orderDetailMap = new Map();\n      const orderList = res.data.data;\n      get('http://localhost:8080/allOrderDetail').then(res2 => {\n        const orderDetailList = res2.data.data;\n        orderDetailList.forEach(item => {\n          orderDetailMap.set(item.orderId, item);\n        });\n        orderList.forEach(item => {\n          const detail = orderDetailMap.get(item.orderId);\n          item.userId = detail.userId;\n          item.totalPrice = detail.count * detail.price; // 计算总价\n\n          item.orderTime = detail.orderTime;\n        });\n        this.list = orderList;\n      });\n    });\n  },\n\n  methods: {\n    handleSizeChange(size) {\n      this.pagesize = size;\n    },\n\n    handleCurrentChange(currentPage) {\n      this.currentPage = currentPage;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmBA,SAASA,GAAT,QAAoB,iBAApB;AAEA,eAAe;AACfC,MAAI,GAAG;AACP,WAAO;AACPC,iBAAW,EAAE,CADN;AAEPC,cAAQ,EAAE,EAFH;AAGPC,mBAAa,EAAE,KAHR;AAIPC,oBAAc,EAAE,KAJT;AAKPC,UAAI,EAAE;AALC,KAAP;AAOC,GATc;;AAUfC,SAAO,GAAG;AACVP,OAAG,CAAC,gCAAD,CAAH,CAAsCQ,IAAtC,CAA2CC,GAAE,IAAK;AAClD,YAAMC,cAAa,GAAI,IAAIC,GAAJ,EAAvB;AACA,YAAMC,SAAQ,GAAIH,GAAG,CAACR,IAAJ,CAASA,IAA3B;AACAD,SAAG,CAAC,sCAAD,CAAH,CAA4CQ,IAA5C,CAAiDK,IAAG,IAAK;AACzD,cAAMC,eAAc,GAAID,IAAI,CAACZ,IAAL,CAAUA,IAAlC;AACAa,uBAAe,CAACC,OAAhB,CAAwBC,IAAG,IAAK;AAChCN,wBAAc,CAACO,GAAf,CAAmBD,IAAI,CAACE,OAAxB,EAAiCF,IAAjC;AACC,SAFD;AAGAJ,iBAAS,CAACG,OAAV,CAAkBC,IAAG,IAAK;AAC1B,gBAAMG,MAAK,GAAIT,cAAc,CAACV,GAAf,CAAmBgB,IAAI,CAACE,OAAxB,CAAf;AACAF,cAAI,CAACI,MAAL,GAAcD,MAAM,CAACC,MAArB;AACAJ,cAAI,CAACK,UAAL,GAAkBF,MAAM,CAACG,KAAP,GAAeH,MAAM,CAACI,KAAxC,CAH0B,CAGqB;;AAC/CP,cAAI,CAACQ,SAAL,GAAiBL,MAAM,CAACK,SAAxB;AACC,SALD;AAMA,aAAKlB,IAAL,GAAYM,SAAZ;AACC,OAZD;AAaC,KAhBD;AAiBC,GA5Bc;;AA6Bfa,SAAO,EAAE;AACTC,oBAAgB,CAACC,IAAD,EAAO;AACvB,WAAKxB,QAAL,GAAgBwB,IAAhB;AACC,KAHQ;;AAITC,uBAAmB,CAAC1B,WAAD,EAAc;AACjC,WAAKA,WAAL,GAAmBA,WAAnB;AACC;;AANQ;AA7BM,CAAf","names":["get","data","currentPage","pagesize","dialogVisible","dialogVisible1","list","mounted","then","res","orderDetailMap","Map","orderList","res2","orderDetailList","forEach","item","set","orderId","detail","userId","totalPrice","count","price","orderTime","methods","handleSizeChange","size","handleCurrentChange"],"sourceRoot":"","sources":["D:\\Dev\\Front\\finalProject\\src\\views\\Admin\\order.vue"],"sourcesContent":["<template>\r\n<el-card class=\"box-card\">\r\n<el-table :data=\"list.slice((currentPage - 1) * pagesize, currentPage * pagesize)\" style=\"width: 100%\">\r\n<el-table-column prop=\"orderId\" label=\"订单编号\" width=\"300\" />\r\n<el-table-column prop=\"userId\" label=\"用户Id\" width=\"200\" /> <!-- 修改处 -->\r\n<el-table-column prop=\"medicineName\" label=\"物品明细\" width=\"200\" />\r\n<el-table-column prop=\"count\" label=\"数量\" width=\"200\" />\r\n<el-table-column prop=\"price\" label=\"单价\" width=\"200\" />\r\n<el-table-column prop=\"totalPrice\" label=\"总价\" width=\"200\" />\r\n<el-table-column prop=\"orderTime\" label=\"下单时间\" width=\"200\" /> <!-- 修改处 -->\r\n</el-table>\r\n\r\n<el-pagination currentPage=\"currentPage\" :page-sizes=\"[10]\" page-size=\"10\" :background=\"background\"\r\n  layout=\"total, sizes, prev, pager, next, jumper\" :total=\"list.length\" @size-change=\"handleSizeChange\"\r\n  @current-change=\"handleCurrentChange\" />\r\n</el-card>\r\n</template>\r\n\r\n<script>\r\nimport { get } from '@/utils/request';\r\n\r\nexport default {\r\ndata() {\r\nreturn {\r\ncurrentPage: 1,\r\npagesize: 15,\r\ndialogVisible: false,\r\ndialogVisible1: false,\r\nlist: [],\r\n};\r\n},\r\nmounted() {\r\nget('http://localhost:8080/allOrder').then(res => {\r\nconst orderDetailMap = new Map();\r\nconst orderList = res.data.data;\r\nget('http://localhost:8080/allOrderDetail').then(res2 => {\r\nconst orderDetailList = res2.data.data;\r\norderDetailList.forEach(item => {\r\norderDetailMap.set(item.orderId, item);\r\n});\r\norderList.forEach(item => {\r\nconst detail = orderDetailMap.get(item.orderId);\r\nitem.userId = detail.userId;\r\nitem.totalPrice = detail.count * detail.price; // 计算总价\r\nitem.orderTime = detail.orderTime;\r\n});\r\nthis.list = orderList;\r\n});\r\n});\r\n},\r\nmethods: {\r\nhandleSizeChange(size) {\r\nthis.pagesize = size;\r\n},\r\nhandleCurrentChange(currentPage) {\r\nthis.currentPage = currentPage;\r\n},\r\n},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box-card {\r\nmargin-top: 5px;\r\nmargin-left: 15px;\r\nmargin-right: 15px;\r\nheight: 95%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}