{"ast":null,"code":"import { ref } from '@vue/reactivity';\nimport axios from 'axios';\nimport { ElMessage } from 'element-plus'; // do not use same name with ref\n\nexport default {\n  name: 'LoginRegister',\n\n  data() {\n    return {\n      BASE_URL: 'http://localhost:8080/',\n      form: {\n        name: '',\n        password: '',\n        ident: ''\n      },\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请选择密码',\n          trigger: 'change'\n        }],\n        ident: [{\n          required: true,\n          message: '请选择权限',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n\n  methods: {\n    submitForm() {\n      const that = this;\n      axios.get(this.BASE_URL + 'login', {\n        params: {\n          username: this.form.name,\n          password: this.form.password,\n          ident: this.form.ident\n        }\n      }).then(function (response) {\n        if (response.data == '登录成功') {\n          ElMessage({\n            message: '登录成功',\n            type: 'success'\n          });\n          that.$router.push('/class');\n        } else {\n          ElMessage({\n            message: '登录失败',\n            type: 'warning'\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA+CA,SAASA,GAAT,QAAoB,iBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,cAA1B,C,CACA;;AAEA,eAAe;AACbC,MAAI,EAAE,eADO;;AAEbC,MAAI,GAAG;AACL,WAAO;AACLC,cAAO,EAAI,wBADN;AAELC,UAAI,EAAE;AACJH,YAAI,EAAE,EADF;AAEJI,gBAAQ,EAAE,EAFN;AAGJC,aAAK,EAAE;AAHH,OAFD;AAOLC,WAAK,EAAE;AACLN,YAAI,EAAE,CACJ;AAAEO,kBAAQ,EAAE,IAAZ;AAAkBC,iBAAO,EAAE,OAA3B;AAAoCC,iBAAO,EAAE;AAA7C,SADI,CADD;AAILL,gBAAQ,EAAE,CACR;AAAEG,kBAAQ,EAAE,IAAZ;AAAkBC,iBAAO,EAAE,OAA3B;AAAoCC,iBAAO,EAAE;AAA7C,SADQ,CAJL;AAOLJ,aAAK,EAAE,CACL;AAAEE,kBAAQ,EAAE,IAAZ;AAAkBC,iBAAO,EAAE,OAA3B;AAAoCC,iBAAO,EAAE;AAA7C,SADK;AAPF;AAPF,KAAP;AAmBD,GAtBY;;AAuBbC,SAAO,EAAE;AACPC,cAAU,GAAG;AACX,YAAMC,IAAI,GAAC,IAAX;AACAd,WAAK,CAACe,GAAN,CAAU,KAAKX,QAAL,GAAc,OAAxB,EAAiC;AAC/BY,cAAM,EAAE;AACNC,kBAAQ,EAAE,KAAKZ,IAAL,CAAUH,IADd;AAENI,kBAAQ,EAAE,KAAKD,IAAL,CAAUC,QAFd;AAGNC,eAAK,EAAE,KAAKF,IAAL,CAAUE;AAHX;AADuB,OAAjC,EAOGW,IAPH,CAOQ,UAAUC,QAAV,EAAoB;AACxB,YAAIA,QAAQ,CAAChB,IAAT,IAAiB,MAArB,EAA6B;AAC3BF,mBAAS,CAAC;AACRS,mBAAO,EAAE,MADD;AAERU,gBAAI,EAAE;AAFE,WAAD,CAAT;AAIAN,cAAI,CAACO,OAAL,CAAaC,IAAb,CAAkB,QAAlB;AACF,SANA,MAMO;AACLrB,mBAAS,CAAC;AACRS,mBAAO,EAAE,MADD;AAERU,gBAAI,EAAE;AAFE,WAAD,CAAT;AAIF;AACD,OApBH,EAqBGG,KArBH,CAqBS,UAAUC,KAAV,EAAiB;AACtBC,eAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAvBH;AAwBF;;AA3BO;AAvBI,CAAf","names":["ref","axios","ElMessage","name","data","BASE_URL","form","password","ident","rules","required","message","trigger","methods","submitForm","that","get","params","username","then","response","type","$router","push","catch","error","console","log"],"sourceRoot":"","sources":["D:\\Dev\\Front\\demo01\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <el-form :model=\"from\" label-position=\"top\" :rules=\"rules\" ref=\"fromRef\">\r\n      <div class=\"back_img\"></div>\r\n      <div class=\"login\">\r\n        <div class=\"lgoinImg\">\r\n          <img src=\"../assets/img/3.webp\" />\r\n        </div>\r\n        <div class=\"login_title\"></div>\r\n        <div class=\"login_input\">\r\n          <el-form-item prop=\"name\">\r\n            <el-input\r\n              prefix-icon=\"User\"\r\n              placeholder=\"请输入账号\"\r\n              v-model=\"from.name\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <div class=\"login_input\">\r\n          <el-form-item prop=\"password\">\r\n            <el-input\r\n              prefix-icon=\"Lock\"\r\n              placeholder=\"请输入密码\"\r\n              show-password\r\n              v-model=\"from.password\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <el-form-item  prop=\"ident\">\r\n        <el-select\r\n          v-model=\"from.ident\"\r\n          placeholder=\"请选择用户类型\"\r\n          class=\"login_input1\"\r\n        >\r\n        <el-option label=\"管理员\" value=\"1\"></el-option>\r\n          <el-option label=\"用户\" value=\"0\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n        <div class=\"login_button\">\r\n          <p @click=\"checkLogin(from)\">登录</p>\r\n          <p @click=\"checkLogin1\">注册</p>\r\n        </div>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref } from '@vue/reactivity'\r\nimport axios from 'axios'\r\nimport { ElMessage } from 'element-plus'\r\n// do not use same name with ref\r\n\r\nexport default {\r\n  name: 'LoginRegister',\r\n  data() {\r\n    return {\r\n      BASE_URL : 'http://localhost:8080/',\r\n      form: {\r\n        name: '',\r\n        password: '',\r\n        ident: ''\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请输入姓名', trigger: 'blur' },\r\n        ],\r\n        password: [\r\n          { required: true, message: '请选择密码', trigger: 'change' }\r\n        ],\r\n        ident: [\r\n          { required: true, message: '请选择权限', trigger: 'change' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    submitForm() {\r\n      const that=this\r\n      axios.get(this.BASE_URL+'login', {\r\n        params: {\r\n          username: this.form.name,\r\n          password: this.form.password,\r\n          ident: this.form.ident\r\n        }\r\n      }) \r\n        .then(function (response) {\r\n          if (response.data == '登录成功') {\r\n            ElMessage({\r\n              message: '登录成功',\r\n              type: 'success',\r\n            })\r\n            that.$router.push('/class') \r\n          } else {\r\n            ElMessage({\r\n              message: '登录失败',\r\n              type: 'warning',\r\n            })\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    }\r\n  },\r\n\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.back_img {\r\n  background: url('../assets/img/5.jpeg');\r\n  background-size: 100% 100%;\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n.login {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background: #fff;\r\n  opacity: 0.9;\r\n  /* background: #65768557; */\r\n  padding: 30px;\r\n  width: 18%;\r\n  border: 1px solid #eee;\r\n  border-radius: 20px;\r\n}\r\n.lgoinImg {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.lgoinImg img {\r\n  width: 110px;\r\n  height: 110px;\r\n  background: #eceeed;\r\n  border-radius: 50%;\r\n  border: 10px solid #fff;\r\n}\r\n\r\n.login_title {\r\n  text-align: center;\r\n  padding-bottom: 20px;\r\n}\r\n.login_input {\r\n  margin-top: 15px;\r\n}\r\n.login_input:nth-child(2) {\r\n  margin-bottom: 20px;\r\n}\r\n.login_input:nth-child(3) {\r\n  margin-top: 20px;\r\n}\r\n.login_button {\r\n  margin-top: 20px;\r\n  display: flex;\r\n}\r\n.login_button p {\r\n  color: #fff;\r\n  font-size: 15px;\r\n  display: block;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  border: 1px solid #ddd;\r\n}\r\n.login_button p:nth-child(1) {\r\n  background: #409eff;\r\n  margin-right: 10px;\r\n}\r\n.login_button p:nth-child(2) {\r\n  background: #67c23a;\r\n  margin-left: 10px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}