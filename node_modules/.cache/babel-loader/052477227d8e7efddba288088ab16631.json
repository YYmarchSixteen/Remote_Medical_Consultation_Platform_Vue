{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"equipmentList\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"添加器械\");\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  \"slot-scope\": \"scope\"\n};\nconst _hoisted_6 = [\"src\"];\nconst _hoisted_7 = {\n  \"slot-scope\": \"scope\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"编辑\");\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"删除\");\n\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = {\n  key: 1,\n  class: \"el-icon-plus avatar-uploader-icon\"\n};\nconst _hoisted_12 = {\n  slot: \"footer\",\n  class: \"dialog-footer\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\"取 消\");\n\nconst _hoisted_14 = /*#__PURE__*/_createTextVNode(\"确 定\");\n\nconst _hoisted_15 = [\"src\"];\nconst _hoisted_16 = {\n  key: 1,\n  class: \"el-icon-plus avatar-uploader-icon\"\n};\nconst _hoisted_17 = {\n  slot: \"footer\",\n  class: \"dialog-footer\"\n};\n\nconst _hoisted_18 = /*#__PURE__*/_createTextVNode(\"取 消\");\n\nconst _hoisted_19 = /*#__PURE__*/_createTextVNode(\"确 定\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n\n  const _component_el_table = _resolveComponent(\"el-table\");\n\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_upload = _resolveComponent(\"el-upload\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_button, {\n    type: \"primary\",\n    onClick: $options.addEquipment\n  }, {\n    default: _withCtx(() => [_hoisted_2]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"onClick\"]), _hoisted_3, _hoisted_4, _createVNode(_component_el_table, {\n    data: $data.list,\n    style: {\n      \"width\": \"100%\"\n    }\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"id\",\n      label: \"ID\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"name\",\n      label: \"名称\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"category\",\n      label: \"类别\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"price\",\n      label: \"价格\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"picture\",\n      label: \"图片\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"template\", _hoisted_5, [_createElementVNode(\"img\", {\n        src: _ctx.scope.row.picture,\n        alt: \"\",\n        style: {\n          \"max-height\": \"100px\"\n        }\n      }, null, 8\n      /* PROPS */\n      , _hoisted_6)])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_table_column, {\n      label: \"操作\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"template\", _hoisted_7, [_createVNode(_component_el_button, {\n        type: \"primary\",\n        size: \"small\",\n        onClick: _cache[0] || (_cache[0] = $event => $options.editEquipment(_ctx.scope.row))\n      }, {\n        default: _withCtx(() => [_hoisted_8]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_button, {\n        type: \"danger\",\n        size: \"small\",\n        onClick: _cache[1] || (_cache[1] = $event => $options.deleteEquipment(_ctx.scope.row.id))\n      }, {\n        default: _withCtx(() => [_hoisted_9]),\n        _: 1\n        /* STABLE */\n\n      })])]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"data\"]), _createVNode(_component_el_dialog, {\n    title: \"添加器械\",\n    visible: $data.dialogVisible,\n    width: \"30%\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      ref: \"addForm\",\n      model: $data.info1,\n      \"label-width\": \"80px\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"名称\",\n        prop: \"name\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.info1.name,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.info1.name = $event)\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        label: \"类别\",\n        prop: \"category\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.info1.category,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.info1.category = $event)\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        label: \"价格\",\n        prop: \"price\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.info1.price,\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.info1.price = $event)\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        label: \"图片\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_upload, {\n          class: \"avatar-uploader\",\n          action: \"{{ uploadImgUrl }}\",\n          \"show-file-list\": false,\n          \"on-success\": $options.handleSuccess,\n          \"before-upload\": $options.beforeUpload\n        }, {\n          default: _withCtx(() => [$data.info1.picture ? (_openBlock(), _createElementBlock(\"img\", {\n            key: 0,\n            src: $data.info1.picture,\n            class: \"avatar\"\n          }, null, 8\n          /* PROPS */\n          , _hoisted_10)) : (_openBlock(), _createElementBlock(\"i\", _hoisted_11))]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"on-success\", \"before-upload\"])]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"model\"]), _createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_el_button, {\n      onClick: _cache[5] || (_cache[5] = $event => $data.dialogVisible = false)\n    }, {\n      default: _withCtx(() => [_hoisted_13]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $options.addConfirm\n    }, {\n      default: _withCtx(() => [_hoisted_14]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"onClick\"])])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"visible\"]), _createVNode(_component_el_dialog, {\n    title: \"修改器械\",\n    visible: $data.dialogVisible1,\n    width: \"30%\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      ref: \"editForm\",\n      model: $data.info2,\n      \"label-width\": \"80px\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"名称\",\n        prop: \"name\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.info2.name,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.info2.name = $event)\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        label: \"类别\",\n        prop: \"category\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.info2.category,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.info2.category = $event)\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        label: \"价格\",\n        prop: \"price\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.info2.price,\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.info2.price = $event)\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        label: \"图片\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_upload, {\n          class: \"avatar-uploader\",\n          action: \"{{ uploadImgUrl }}\",\n          \"show-file-list\": false,\n          \"on-success\": $options.handleSuccess1,\n          \"before-upload\": $options.beforeUpload1\n        }, {\n          default: _withCtx(() => [$data.info2.picture ? (_openBlock(), _createElementBlock(\"img\", {\n            key: 0,\n            src: $data.info2.picture,\n            class: \"avatar\"\n          }, null, 8\n          /* PROPS */\n          , _hoisted_15)) : (_openBlock(), _createElementBlock(\"i\", _hoisted_16))]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"on-success\", \"before-upload\"])]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"model\"]), _createElementVNode(\"div\", _hoisted_17, [_createVNode(_component_el_button, {\n      onClick: _cache[9] || (_cache[9] = $event => $data.dialogVisible1 = false)\n    }, {\n      default: _withCtx(() => [_hoisted_18]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $options.editConfirm\n    }, {\n      default: _withCtx(() => [_hoisted_19]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"onClick\"])])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"visible\"])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","slot","_createElementBlock","_createVNode","_component_el_button","type","onClick","$options","_hoisted_3","_hoisted_4","_component_el_table","data","$data","style","_component_el_table_column","prop","label","src","_ctx","row","picture","alt","size","id","_component_el_dialog","title","visible","width","_component_el_form","ref","model","_component_el_form_item","_component_el_input","name","$event","category","price","_component_el_upload","action"],"sourceRoot":"","sources":["D:\\Dev\\Front\\demo01\\src\\views\\Admin\\equipment.vue"],"sourcesContent":["<template>\r\n  <div class=\"equipmentList\">\r\n    <el-button type=\"primary\" @click=\"addEquipment\">添加器械</el-button>\r\n    <br /><br />\r\n    <el-table :data=\"list\" style=\"width: 100%\">\r\n      <el-table-column prop=\"id\" label=\"ID\"></el-table-column>\r\n      <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\r\n      <el-table-column prop=\"category\" label=\"类别\"></el-table-column>\r\n      <el-table-column prop=\"price\" label=\"价格\"></el-table-column>\r\n      <el-table-column prop=\"picture\" label=\"图片\">\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"scope.row.picture\" alt=\"\" style=\"max-height: 100px;\" />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"editEquipment(scope.row)\">编辑</el-button>\r\n          <el-button type=\"danger\" size=\"small\" @click=\"deleteEquipment(scope.row.id)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-dialog title=\"添加器械\" :visible.sync=\"dialogVisible\" width=\"30%\">\r\n      <el-form ref=\"addForm\" :model=\"info1\" label-width=\"80px\">\r\n        <el-form-item label=\"名称\" prop=\"name\">\r\n          <el-input v-model=\"info1.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"类别\" prop=\"category\">\r\n          <el-input v-model=\"info1.category\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"价格\" prop=\"price\">\r\n          <el-input v-model=\"info1.price\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"图片\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            action=\"{{ uploadImgUrl }}\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleSuccess\"\r\n            :before-upload=\"beforeUpload\"\r\n          >\r\n            <img v-if=\"info1.picture\" :src=\"info1.picture\" class=\"avatar\" />\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addConfirm\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"修改器械\" :visible.sync=\"dialogVisible1\" width=\"30%\">\r\n      <el-form ref=\"editForm\" :model=\"info2\" label-width=\"80px\">\r\n        <el-form-item label=\"名称\" prop=\"name\">\r\n          <el-input v-model=\"info2.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"类别\" prop=\"category\">\r\n          <el-input v-model=\"info2.category\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"价格\" prop=\"price\">\r\n          <el-input v-model=\"info2.price\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"图片\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            action=\"{{ uploadImgUrl }}\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleSuccess1\"\r\n            :before-upload=\"beforeUpload1\"\r\n          >\r\n            <img v-if=\"info2.picture\" :src=\"info2.picture\" class=\"avatar\" />\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible1 = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editConfirm\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'EquipmentList',\r\n  data() {\r\n    return {\r\n      currentPage: 1, //默认页码为1\r\n      pagesize: 15, //默认一页显示 条\r\n      dialogVisible: false,\r\n      dialogVisible1: false,\r\n      info2: {}, //修改数据\r\n      info1: {}, //新增数据\r\n      list: [],\r\n      adg: [],\r\n      uploadImgUrl: '', // 上传图片的地址\r\n    }\r\n  },\r\n  created() {\r\n    this.getEquipmentList()\r\n  },\r\n  methods: {\r\n    // 获取器械列表数据\r\n    getEquipmentList() {\r\n      axios.get('/equipmentList').then((res) => {\r\n        this.list = res.data\r\n      })\r\n    },\r\n\r\n    // 打开添加器械框\r\n    addEquipment() {\r\n      this.dialogVisible = true\r\n      this.info1 = {}\r\n    },\r\n\r\n    // 添加器械确认\r\n    addConfirm() {\r\n      this.$refs['addForm'].validate((valid) => {\r\n        if (valid) {\r\n          axios.get('/insertEquipment', { params: this.info1 }).then((res) => {\r\n            if (res.data === '添加成功') {\r\n              this.$message.success('添加成功！')\r\n              this.dialogVisible = false\r\n              this.getEquipmentList()\r\n            } else {\r\n              this.$message.error('添加失败！')\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n\r\n    // 打开修改器械框\r\n    editEquipment(row) {\r\n      this.dialogVisible1 = true\r\n      this.info2 = Object.assign({}, row)\r\n    },\r\n\r\n    // 修改器械确认\r\n    editConfirm() {\r\n      this.$refs['editForm'].validate((valid) => {\r\n        if (valid) {\r\n          axios.get('/updateEquipment', { params: this.info2 }).then((res) => {\r\n            if (res.data === '修改成功') {\r\n              this.$message.success('修改成功！')\r\n              this.dialogVisible1 = false\r\n              this.getEquipmentList()\r\n            } else {\r\n              this.$message.error('修改失败！')\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n\r\n    // 删除器械\r\n    deleteEquipment(id) {\r\n      this.$confirm('确定要删除该器械吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      })\r\n        .then(() => {\r\n          axios.get('/deleteEquipment', { params: { id } }).then((res) => {\r\n            if (res.data === '删除成功') {\r\n              this.$message.success('删除成功！')\r\n              this.getEquipmentList()\r\n            } else {\r\n              this.$message.error('删除失败！')\r\n            }\r\n          })\r\n        })\r\n        .catch(() => {})\r\n    },\r\n\r\n    // 上传之前的钩子函数\r\n    beforeUpload(file) {\r\n      if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\r\n        this.$message.error('文件格式错误!')\r\n        return false\r\n      }\r\n      if (file.size / 1024 / 1024 > 2) {\r\n        this.$message.error('图片大小不能超过 2MB!')\r\n        return false\r\n      }\r\n      this.uploadImgUrl = `http://localhost:8080/uploadEquipmentImg?name=${file.name}`\r\n    },\r\n\r\n    // 上传成功后的钩子函数\r\n    handleSuccess(res) {\r\n      this.info1.picture = res.data.url\r\n    },\r\n\r\n    // 上传之前的钩子函数\r\n    beforeUpload1(file) {\r\n      if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\r\n        this.$message.error('文件格式错误!')\r\n        return false\r\n      }\r\n      if (file.size / 1024 / 1024 > 2) {\r\n        this.$message.error('图片大小不能超过 2MB!')\r\n        return false\r\n      }\r\n      this.uploadImgUrl = `http://localhost:8080/uploadEquipmentImg?name=${file.name}`\r\n    },\r\n\r\n    // 上传成功后的钩子函数\r\n    handleSuccess1(res) {\r\n      this.info2.picture = res.data.url\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n.equipmentList .el-table th:nth-child(5),\r\n.equipmentList .el-table td:nth-child(5) {\r\n  text-align: center;\r\n}\r\n.avatar-uploader {\r\n  display: inline-block;\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 100%;\r\n  height: 150px;\r\n  display: block;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 150px;\r\n  height: 150px;\r\n  line-height: 150px;\r\n  text-align: center;\r\n  border: 1px dashed #ccc;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: .3s;\r\n}\r\n.avatar-uploader-icon:hover {\r\n  color: #409EFF;\r\n  border-color: #409EFF;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}