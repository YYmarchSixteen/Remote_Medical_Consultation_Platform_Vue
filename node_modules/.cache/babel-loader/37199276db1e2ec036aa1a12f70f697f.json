{"ast":null,"code":"// src/utils.ts\nvar inBrowser = typeof window !== \"undefined\";\nvar supportsPassive = true;\n\nfunction raf(fn) {\n  return inBrowser ? requestAnimationFrame(fn) : -1;\n}\n\nfunction cancelRaf(id) {\n  if (inBrowser) {\n    cancelAnimationFrame(id);\n  }\n}\n\nfunction doubleRaf(fn) {\n  raf(() => raf(fn));\n} // src/useRect/index.ts\n\n\nimport { unref } from \"vue\";\n\nvar isWindow = val => val === window;\n\nvar makeDOMRect = (width2, height2) => ({\n  top: 0,\n  left: 0,\n  right: width2,\n  bottom: height2,\n  width: width2,\n  height: height2\n});\n\nvar useRect = elementOrRef => {\n  const element = unref(elementOrRef);\n\n  if (isWindow(element)) {\n    const width2 = element.innerWidth;\n    const height2 = element.innerHeight;\n    return makeDOMRect(width2, height2);\n  }\n\n  if (element == null ? void 0 : element.getBoundingClientRect) {\n    return element.getBoundingClientRect();\n  }\n\n  return makeDOMRect(0, 0);\n}; // src/useToggle/index.ts\n\n\nimport { ref } from \"vue\";\n\nfunction useToggle(defaultValue = false) {\n  const state = ref(defaultValue);\n\n  const toggle = (value = !state.value) => {\n    state.value = value;\n  };\n\n  return [state, toggle];\n} // src/useRelation/useParent.ts\n\n\nimport { ref as ref2, inject, computed, onUnmounted, getCurrentInstance } from \"vue\";\n\nfunction useParent(key) {\n  const parent = inject(key, null);\n\n  if (parent) {\n    const instance = getCurrentInstance();\n    const {\n      link,\n      unlink,\n      internalChildren\n    } = parent;\n    link(instance);\n    onUnmounted(() => unlink(instance));\n    const index = computed(() => internalChildren.indexOf(instance));\n    return {\n      parent,\n      index\n    };\n  }\n\n  return {\n    parent: null,\n    index: ref2(-1)\n  };\n} // src/useRelation/useChildren.ts\n\n\nimport { isVNode, provide, reactive, getCurrentInstance as getCurrentInstance2 } from \"vue\";\n\nfunction flattenVNodes(children) {\n  const result = [];\n\n  const traverse = children2 => {\n    if (Array.isArray(children2)) {\n      children2.forEach(child => {\n        var _a;\n\n        if (isVNode(child)) {\n          result.push(child);\n\n          if ((_a = child.component) == null ? void 0 : _a.subTree) {\n            result.push(child.component.subTree);\n            traverse(child.component.subTree.children);\n          }\n\n          if (child.children) {\n            traverse(child.children);\n          }\n        }\n      });\n    }\n  };\n\n  traverse(children);\n  return result;\n}\n\nvar findVNodeIndex = (vnodes, vnode) => {\n  const index = vnodes.indexOf(vnode);\n\n  if (index === -1) {\n    return vnodes.findIndex(item => vnode.key !== void 0 && vnode.key !== null && item.type === vnode.type && item.key === vnode.key);\n  }\n\n  return index;\n};\n\nfunction sortChildren(parent, publicChildren, internalChildren) {\n  const vnodes = flattenVNodes(parent.subTree.children);\n  internalChildren.sort((a, b) => findVNodeIndex(vnodes, a.vnode) - findVNodeIndex(vnodes, b.vnode));\n  const orderedPublicChildren = internalChildren.map(item => item.proxy);\n  publicChildren.sort((a, b) => {\n    const indexA = orderedPublicChildren.indexOf(a);\n    const indexB = orderedPublicChildren.indexOf(b);\n    return indexA - indexB;\n  });\n}\n\nfunction useChildren(key) {\n  const publicChildren = reactive([]);\n  const internalChildren = reactive([]);\n  const parent = getCurrentInstance2();\n\n  const linkChildren = value => {\n    const link = child => {\n      if (child.proxy) {\n        internalChildren.push(child);\n        publicChildren.push(child.proxy);\n        sortChildren(parent, publicChildren, internalChildren);\n      }\n    };\n\n    const unlink = child => {\n      const index = internalChildren.indexOf(child);\n      publicChildren.splice(index, 1);\n      internalChildren.splice(index, 1);\n    };\n\n    provide(key, Object.assign({\n      link,\n      unlink,\n      children: publicChildren,\n      internalChildren\n    }, value));\n  };\n\n  return {\n    children: publicChildren,\n    linkChildren\n  };\n} // src/useCountDown/index.ts\n\n\nimport { ref as ref3, computed as computed2, onActivated, onDeactivated, onBeforeUnmount } from \"vue\";\nvar SECOND = 1e3;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\n\nfunction parseTime(time) {\n  const days = Math.floor(time / DAY);\n  const hours = Math.floor(time % DAY / HOUR);\n  const minutes = Math.floor(time % HOUR / MINUTE);\n  const seconds = Math.floor(time % MINUTE / SECOND);\n  const milliseconds = Math.floor(time % SECOND);\n  return {\n    total: time,\n    days,\n    hours,\n    minutes,\n    seconds,\n    milliseconds\n  };\n}\n\nfunction isSameSecond(time1, time2) {\n  return Math.floor(time1 / 1e3) === Math.floor(time2 / 1e3);\n}\n\nfunction useCountDown(options) {\n  let rafId;\n  let endTime;\n  let counting;\n  let deactivated;\n  const remain = ref3(options.time);\n  const current = computed2(() => parseTime(remain.value));\n\n  const pause = () => {\n    counting = false;\n    cancelRaf(rafId);\n  };\n\n  const getCurrentRemain = () => Math.max(endTime - Date.now(), 0);\n\n  const setRemain = value => {\n    var _a, _b;\n\n    remain.value = value;\n    (_a = options.onChange) == null ? void 0 : _a.call(options, current.value);\n\n    if (value === 0) {\n      pause();\n      (_b = options.onFinish) == null ? void 0 : _b.call(options);\n    }\n  };\n\n  const microTick = () => {\n    rafId = raf(() => {\n      if (counting) {\n        setRemain(getCurrentRemain());\n\n        if (remain.value > 0) {\n          microTick();\n        }\n      }\n    });\n  };\n\n  const macroTick = () => {\n    rafId = raf(() => {\n      if (counting) {\n        const remainRemain = getCurrentRemain();\n\n        if (!isSameSecond(remainRemain, remain.value) || remainRemain === 0) {\n          setRemain(remainRemain);\n        }\n\n        if (remain.value > 0) {\n          macroTick();\n        }\n      }\n    });\n  };\n\n  const tick = () => {\n    if (!inBrowser) {\n      return;\n    }\n\n    if (options.millisecond) {\n      microTick();\n    } else {\n      macroTick();\n    }\n  };\n\n  const start = () => {\n    if (!counting) {\n      endTime = Date.now() + remain.value;\n      counting = true;\n      tick();\n    }\n  };\n\n  const reset = (totalTime = options.time) => {\n    pause();\n    remain.value = totalTime;\n  };\n\n  onBeforeUnmount(pause);\n  onActivated(() => {\n    if (deactivated) {\n      counting = true;\n      deactivated = false;\n      tick();\n    }\n  });\n  onDeactivated(() => {\n    if (counting) {\n      pause();\n      deactivated = true;\n    }\n  });\n  return {\n    start,\n    pause,\n    reset,\n    current\n  };\n} // src/useClickAway/index.ts\n\n\nimport { unref as unref3 } from \"vue\"; // src/useEventListener/index.ts\n\nimport { watch, isRef, unref as unref2, onUnmounted as onUnmounted2, onDeactivated as onDeactivated2 } from \"vue\"; // src/onMountedOrActivated/index.ts\n\nimport { nextTick, onMounted, onActivated as onActivated2 } from \"vue\";\n\nfunction onMountedOrActivated(hook) {\n  let mounted;\n  onMounted(() => {\n    hook();\n    nextTick(() => {\n      mounted = true;\n    });\n  });\n  onActivated2(() => {\n    if (mounted) {\n      hook();\n    }\n  });\n} // src/useEventListener/index.ts\n\n\nfunction useEventListener(type, listener, options = {}) {\n  if (!inBrowser) {\n    return;\n  }\n\n  const {\n    target = window,\n    passive = false,\n    capture = false\n  } = options;\n  let cleaned = false;\n  let attached;\n\n  const add = target2 => {\n    if (cleaned) {\n      return;\n    }\n\n    const element = unref2(target2);\n\n    if (element && !attached) {\n      element.addEventListener(type, listener, {\n        capture,\n        passive\n      });\n      attached = true;\n    }\n  };\n\n  const remove = target2 => {\n    if (cleaned) {\n      return;\n    }\n\n    const element = unref2(target2);\n\n    if (element && attached) {\n      element.removeEventListener(type, listener, capture);\n      attached = false;\n    }\n  };\n\n  onUnmounted2(() => remove(target));\n  onDeactivated2(() => remove(target));\n  onMountedOrActivated(() => add(target));\n  let stopWatch;\n\n  if (isRef(target)) {\n    stopWatch = watch(target, (val, oldVal) => {\n      remove(oldVal);\n      add(val);\n    });\n  }\n\n  return () => {\n    stopWatch == null ? void 0 : stopWatch();\n    remove(target);\n    cleaned = true;\n  };\n} // src/useClickAway/index.ts\n\n\nfunction useClickAway(target, listener, options = {}) {\n  if (!inBrowser) {\n    return;\n  }\n\n  const {\n    eventName = \"click\"\n  } = options;\n\n  const onClick = event => {\n    const targets = Array.isArray(target) ? target : [target];\n    const isClickAway = targets.every(item => {\n      const element = unref3(item);\n      return element && !element.contains(event.target);\n    });\n\n    if (isClickAway) {\n      listener(event);\n    }\n  };\n\n  useEventListener(eventName, onClick, {\n    target: document\n  });\n} // src/useWindowSize/index.ts\n\n\nimport { ref as ref4 } from \"vue\";\nvar width;\nvar height;\n\nfunction useWindowSize() {\n  if (!width) {\n    width = ref4(0);\n    height = ref4(0);\n\n    if (inBrowser) {\n      const update = () => {\n        width.value = window.innerWidth;\n        height.value = window.innerHeight;\n      };\n\n      update();\n      window.addEventListener(\"resize\", update, {\n        passive: true\n      });\n      window.addEventListener(\"orientationchange\", update, {\n        passive: true\n      });\n    }\n  }\n\n  return {\n    width,\n    height\n  };\n} // src/useScrollParent/index.ts\n\n\nimport { ref as ref5, onMounted as onMounted2 } from \"vue\";\nvar overflowScrollReg = /scroll|auto|overlay/i;\nvar defaultRoot = inBrowser ? window : void 0;\n\nfunction isElement(node) {\n  const ELEMENT_NODE_TYPE = 1;\n  return node.tagName !== \"HTML\" && node.tagName !== \"BODY\" && node.nodeType === ELEMENT_NODE_TYPE;\n}\n\nfunction getScrollParent(el, root = defaultRoot) {\n  let node = el;\n\n  while (node && node !== root && isElement(node)) {\n    const {\n      overflowY\n    } = window.getComputedStyle(node);\n\n    if (overflowScrollReg.test(overflowY)) {\n      return node;\n    }\n\n    node = node.parentNode;\n  }\n\n  return root;\n}\n\nfunction useScrollParent(el, root = defaultRoot) {\n  const scrollParent = ref5();\n  onMounted2(() => {\n    if (el.value) {\n      scrollParent.value = getScrollParent(el.value, root);\n    }\n  });\n  return scrollParent;\n} // src/usePageVisibility/index.ts\n\n\nimport { ref as ref6 } from \"vue\";\nvar visibility;\n\nfunction usePageVisibility() {\n  if (!visibility) {\n    visibility = ref6(\"visible\");\n\n    if (inBrowser) {\n      const update = () => {\n        visibility.value = document.hidden ? \"hidden\" : \"visible\";\n      };\n\n      update();\n      window.addEventListener(\"visibilitychange\", update);\n    }\n  }\n\n  return visibility;\n} // src/useCustomFieldValue/index.ts\n\n\nimport { watch as watch2, inject as inject2 } from \"vue\";\nvar CUSTOM_FIELD_INJECTION_KEY = Symbol(\"van-field\");\n\nfunction useCustomFieldValue(customValue) {\n  const field = inject2(CUSTOM_FIELD_INJECTION_KEY, null);\n\n  if (field && !field.customValue.value) {\n    field.customValue.value = customValue;\n    watch2(customValue, () => {\n      field.resetValidation();\n      field.validateWithTrigger(\"onChange\");\n    });\n  }\n} // src/useRaf/index.ts\n\n\nfunction useRaf(fn, options) {\n  if (inBrowser) {\n    const {\n      interval = 0,\n      isLoop = false\n    } = options || {};\n    let start;\n    let isStopped = false;\n    let rafId;\n\n    const stop = () => {\n      isStopped = true;\n      cancelAnimationFrame(rafId);\n    };\n\n    const frameWrapper = timestamp => {\n      if (isStopped) return;\n\n      if (start === void 0) {\n        start = timestamp;\n      } else if (timestamp - start > interval) {\n        fn(timestamp);\n        start = timestamp;\n\n        if (!isLoop) {\n          stop();\n          return;\n        }\n      }\n\n      rafId = requestAnimationFrame(frameWrapper);\n    };\n\n    rafId = requestAnimationFrame(frameWrapper);\n    return stop;\n  }\n\n  return () => {};\n}\n\nexport { CUSTOM_FIELD_INJECTION_KEY, cancelRaf, doubleRaf, flattenVNodes, getScrollParent, inBrowser, onMountedOrActivated, raf, sortChildren, supportsPassive, useChildren, useClickAway, useCountDown, useCustomFieldValue, useEventListener, usePageVisibility, useParent, useRaf, useRect, useScrollParent, useToggle, useWindowSize };","map":{"version":3,"sources":["D:/Dev/Front/Remote_Medical_Consultation_Platform_Vue/node_modules/@vant/use/dist/index.esm.mjs"],"names":["inBrowser","window","supportsPassive","raf","fn","requestAnimationFrame","cancelRaf","id","cancelAnimationFrame","doubleRaf","unref","isWindow","val","makeDOMRect","width2","height2","top","left","right","bottom","width","height","useRect","elementOrRef","element","innerWidth","innerHeight","getBoundingClientRect","ref","useToggle","defaultValue","state","toggle","value","ref2","inject","computed","onUnmounted","getCurrentInstance","useParent","key","parent","instance","link","unlink","internalChildren","index","indexOf","isVNode","provide","reactive","getCurrentInstance2","flattenVNodes","children","result","traverse","children2","Array","isArray","forEach","child","_a","push","component","subTree","findVNodeIndex","vnodes","vnode","findIndex","item","type","sortChildren","publicChildren","sort","a","b","orderedPublicChildren","map","proxy","indexA","indexB","useChildren","linkChildren","splice","Object","assign","ref3","computed2","onActivated","onDeactivated","onBeforeUnmount","SECOND","MINUTE","HOUR","DAY","parseTime","time","days","Math","floor","hours","minutes","seconds","milliseconds","total","isSameSecond","time1","time2","useCountDown","options","rafId","endTime","counting","deactivated","remain","current","pause","getCurrentRemain","max","Date","now","setRemain","_b","onChange","call","onFinish","microTick","macroTick","remainRemain","tick","millisecond","start","reset","totalTime","unref3","watch","isRef","unref2","onUnmounted2","onDeactivated2","nextTick","onMounted","onActivated2","onMountedOrActivated","hook","mounted","useEventListener","listener","target","passive","capture","cleaned","attached","add","target2","addEventListener","remove","removeEventListener","stopWatch","oldVal","useClickAway","eventName","onClick","event","targets","isClickAway","every","contains","document","ref4","useWindowSize","update","ref5","onMounted2","overflowScrollReg","defaultRoot","isElement","node","ELEMENT_NODE_TYPE","tagName","nodeType","getScrollParent","el","root","overflowY","getComputedStyle","test","parentNode","useScrollParent","scrollParent","ref6","visibility","usePageVisibility","hidden","watch2","inject2","CUSTOM_FIELD_INJECTION_KEY","Symbol","useCustomFieldValue","customValue","field","resetValidation","validateWithTrigger","useRaf","interval","isLoop","isStopped","stop","frameWrapper","timestamp"],"mappings":"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","sourcesContent":["// src/utils.ts\nvar inBrowser = typeof window !== \"undefined\";\nvar supportsPassive = true;\nfunction raf(fn) {\n  return inBrowser ? requestAnimationFrame(fn) : -1;\n}\nfunction cancelRaf(id) {\n  if (inBrowser) {\n    cancelAnimationFrame(id);\n  }\n}\nfunction doubleRaf(fn) {\n  raf(() => raf(fn));\n}\n\n// src/useRect/index.ts\nimport { unref } from \"vue\";\nvar isWindow = (val) => val === window;\nvar makeDOMRect = (width2, height2) => ({\n  top: 0,\n  left: 0,\n  right: width2,\n  bottom: height2,\n  width: width2,\n  height: height2\n});\nvar useRect = (elementOrRef) => {\n  const element = unref(elementOrRef);\n  if (isWindow(element)) {\n    const width2 = element.innerWidth;\n    const height2 = element.innerHeight;\n    return makeDOMRect(width2, height2);\n  }\n  if (element == null ? void 0 : element.getBoundingClientRect) {\n    return element.getBoundingClientRect();\n  }\n  return makeDOMRect(0, 0);\n};\n\n// src/useToggle/index.ts\nimport { ref } from \"vue\";\nfunction useToggle(defaultValue = false) {\n  const state = ref(defaultValue);\n  const toggle = (value = !state.value) => {\n    state.value = value;\n  };\n  return [state, toggle];\n}\n\n// src/useRelation/useParent.ts\nimport {\n  ref as ref2,\n  inject,\n  computed,\n  onUnmounted,\n  getCurrentInstance\n} from \"vue\";\nfunction useParent(key) {\n  const parent = inject(key, null);\n  if (parent) {\n    const instance = getCurrentInstance();\n    const { link, unlink, internalChildren } = parent;\n    link(instance);\n    onUnmounted(() => unlink(instance));\n    const index = computed(() => internalChildren.indexOf(instance));\n    return {\n      parent,\n      index\n    };\n  }\n  return {\n    parent: null,\n    index: ref2(-1)\n  };\n}\n\n// src/useRelation/useChildren.ts\nimport {\n  isVNode,\n  provide,\n  reactive,\n  getCurrentInstance as getCurrentInstance2\n} from \"vue\";\nfunction flattenVNodes(children) {\n  const result = [];\n  const traverse = (children2) => {\n    if (Array.isArray(children2)) {\n      children2.forEach((child) => {\n        var _a;\n        if (isVNode(child)) {\n          result.push(child);\n          if ((_a = child.component) == null ? void 0 : _a.subTree) {\n            result.push(child.component.subTree);\n            traverse(child.component.subTree.children);\n          }\n          if (child.children) {\n            traverse(child.children);\n          }\n        }\n      });\n    }\n  };\n  traverse(children);\n  return result;\n}\nvar findVNodeIndex = (vnodes, vnode) => {\n  const index = vnodes.indexOf(vnode);\n  if (index === -1) {\n    return vnodes.findIndex(\n      (item) => vnode.key !== void 0 && vnode.key !== null && item.type === vnode.type && item.key === vnode.key\n    );\n  }\n  return index;\n};\nfunction sortChildren(parent, publicChildren, internalChildren) {\n  const vnodes = flattenVNodes(parent.subTree.children);\n  internalChildren.sort(\n    (a, b) => findVNodeIndex(vnodes, a.vnode) - findVNodeIndex(vnodes, b.vnode)\n  );\n  const orderedPublicChildren = internalChildren.map((item) => item.proxy);\n  publicChildren.sort((a, b) => {\n    const indexA = orderedPublicChildren.indexOf(a);\n    const indexB = orderedPublicChildren.indexOf(b);\n    return indexA - indexB;\n  });\n}\nfunction useChildren(key) {\n  const publicChildren = reactive([]);\n  const internalChildren = reactive([]);\n  const parent = getCurrentInstance2();\n  const linkChildren = (value) => {\n    const link = (child) => {\n      if (child.proxy) {\n        internalChildren.push(child);\n        publicChildren.push(child.proxy);\n        sortChildren(parent, publicChildren, internalChildren);\n      }\n    };\n    const unlink = (child) => {\n      const index = internalChildren.indexOf(child);\n      publicChildren.splice(index, 1);\n      internalChildren.splice(index, 1);\n    };\n    provide(\n      key,\n      Object.assign(\n        {\n          link,\n          unlink,\n          children: publicChildren,\n          internalChildren\n        },\n        value\n      )\n    );\n  };\n  return {\n    children: publicChildren,\n    linkChildren\n  };\n}\n\n// src/useCountDown/index.ts\nimport {\n  ref as ref3,\n  computed as computed2,\n  onActivated,\n  onDeactivated,\n  onBeforeUnmount\n} from \"vue\";\nvar SECOND = 1e3;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nfunction parseTime(time) {\n  const days = Math.floor(time / DAY);\n  const hours = Math.floor(time % DAY / HOUR);\n  const minutes = Math.floor(time % HOUR / MINUTE);\n  const seconds = Math.floor(time % MINUTE / SECOND);\n  const milliseconds = Math.floor(time % SECOND);\n  return {\n    total: time,\n    days,\n    hours,\n    minutes,\n    seconds,\n    milliseconds\n  };\n}\nfunction isSameSecond(time1, time2) {\n  return Math.floor(time1 / 1e3) === Math.floor(time2 / 1e3);\n}\nfunction useCountDown(options) {\n  let rafId;\n  let endTime;\n  let counting;\n  let deactivated;\n  const remain = ref3(options.time);\n  const current = computed2(() => parseTime(remain.value));\n  const pause = () => {\n    counting = false;\n    cancelRaf(rafId);\n  };\n  const getCurrentRemain = () => Math.max(endTime - Date.now(), 0);\n  const setRemain = (value) => {\n    var _a, _b;\n    remain.value = value;\n    (_a = options.onChange) == null ? void 0 : _a.call(options, current.value);\n    if (value === 0) {\n      pause();\n      (_b = options.onFinish) == null ? void 0 : _b.call(options);\n    }\n  };\n  const microTick = () => {\n    rafId = raf(() => {\n      if (counting) {\n        setRemain(getCurrentRemain());\n        if (remain.value > 0) {\n          microTick();\n        }\n      }\n    });\n  };\n  const macroTick = () => {\n    rafId = raf(() => {\n      if (counting) {\n        const remainRemain = getCurrentRemain();\n        if (!isSameSecond(remainRemain, remain.value) || remainRemain === 0) {\n          setRemain(remainRemain);\n        }\n        if (remain.value > 0) {\n          macroTick();\n        }\n      }\n    });\n  };\n  const tick = () => {\n    if (!inBrowser) {\n      return;\n    }\n    if (options.millisecond) {\n      microTick();\n    } else {\n      macroTick();\n    }\n  };\n  const start = () => {\n    if (!counting) {\n      endTime = Date.now() + remain.value;\n      counting = true;\n      tick();\n    }\n  };\n  const reset = (totalTime = options.time) => {\n    pause();\n    remain.value = totalTime;\n  };\n  onBeforeUnmount(pause);\n  onActivated(() => {\n    if (deactivated) {\n      counting = true;\n      deactivated = false;\n      tick();\n    }\n  });\n  onDeactivated(() => {\n    if (counting) {\n      pause();\n      deactivated = true;\n    }\n  });\n  return {\n    start,\n    pause,\n    reset,\n    current\n  };\n}\n\n// src/useClickAway/index.ts\nimport { unref as unref3 } from \"vue\";\n\n// src/useEventListener/index.ts\nimport {\n  watch,\n  isRef,\n  unref as unref2,\n  onUnmounted as onUnmounted2,\n  onDeactivated as onDeactivated2\n} from \"vue\";\n\n// src/onMountedOrActivated/index.ts\nimport { nextTick, onMounted, onActivated as onActivated2 } from \"vue\";\nfunction onMountedOrActivated(hook) {\n  let mounted;\n  onMounted(() => {\n    hook();\n    nextTick(() => {\n      mounted = true;\n    });\n  });\n  onActivated2(() => {\n    if (mounted) {\n      hook();\n    }\n  });\n}\n\n// src/useEventListener/index.ts\nfunction useEventListener(type, listener, options = {}) {\n  if (!inBrowser) {\n    return;\n  }\n  const { target = window, passive = false, capture = false } = options;\n  let cleaned = false;\n  let attached;\n  const add = (target2) => {\n    if (cleaned) {\n      return;\n    }\n    const element = unref2(target2);\n    if (element && !attached) {\n      element.addEventListener(type, listener, {\n        capture,\n        passive\n      });\n      attached = true;\n    }\n  };\n  const remove = (target2) => {\n    if (cleaned) {\n      return;\n    }\n    const element = unref2(target2);\n    if (element && attached) {\n      element.removeEventListener(type, listener, capture);\n      attached = false;\n    }\n  };\n  onUnmounted2(() => remove(target));\n  onDeactivated2(() => remove(target));\n  onMountedOrActivated(() => add(target));\n  let stopWatch;\n  if (isRef(target)) {\n    stopWatch = watch(target, (val, oldVal) => {\n      remove(oldVal);\n      add(val);\n    });\n  }\n  return () => {\n    stopWatch == null ? void 0 : stopWatch();\n    remove(target);\n    cleaned = true;\n  };\n}\n\n// src/useClickAway/index.ts\nfunction useClickAway(target, listener, options = {}) {\n  if (!inBrowser) {\n    return;\n  }\n  const { eventName = \"click\" } = options;\n  const onClick = (event) => {\n    const targets = Array.isArray(target) ? target : [target];\n    const isClickAway = targets.every((item) => {\n      const element = unref3(item);\n      return element && !element.contains(event.target);\n    });\n    if (isClickAway) {\n      listener(event);\n    }\n  };\n  useEventListener(eventName, onClick, { target: document });\n}\n\n// src/useWindowSize/index.ts\nimport { ref as ref4 } from \"vue\";\nvar width;\nvar height;\nfunction useWindowSize() {\n  if (!width) {\n    width = ref4(0);\n    height = ref4(0);\n    if (inBrowser) {\n      const update = () => {\n        width.value = window.innerWidth;\n        height.value = window.innerHeight;\n      };\n      update();\n      window.addEventListener(\"resize\", update, { passive: true });\n      window.addEventListener(\"orientationchange\", update, { passive: true });\n    }\n  }\n  return { width, height };\n}\n\n// src/useScrollParent/index.ts\nimport { ref as ref5, onMounted as onMounted2 } from \"vue\";\nvar overflowScrollReg = /scroll|auto|overlay/i;\nvar defaultRoot = inBrowser ? window : void 0;\nfunction isElement(node) {\n  const ELEMENT_NODE_TYPE = 1;\n  return node.tagName !== \"HTML\" && node.tagName !== \"BODY\" && node.nodeType === ELEMENT_NODE_TYPE;\n}\nfunction getScrollParent(el, root = defaultRoot) {\n  let node = el;\n  while (node && node !== root && isElement(node)) {\n    const { overflowY } = window.getComputedStyle(node);\n    if (overflowScrollReg.test(overflowY)) {\n      return node;\n    }\n    node = node.parentNode;\n  }\n  return root;\n}\nfunction useScrollParent(el, root = defaultRoot) {\n  const scrollParent = ref5();\n  onMounted2(() => {\n    if (el.value) {\n      scrollParent.value = getScrollParent(el.value, root);\n    }\n  });\n  return scrollParent;\n}\n\n// src/usePageVisibility/index.ts\nimport { ref as ref6 } from \"vue\";\nvar visibility;\nfunction usePageVisibility() {\n  if (!visibility) {\n    visibility = ref6(\"visible\");\n    if (inBrowser) {\n      const update = () => {\n        visibility.value = document.hidden ? \"hidden\" : \"visible\";\n      };\n      update();\n      window.addEventListener(\"visibilitychange\", update);\n    }\n  }\n  return visibility;\n}\n\n// src/useCustomFieldValue/index.ts\nimport { watch as watch2, inject as inject2 } from \"vue\";\nvar CUSTOM_FIELD_INJECTION_KEY = Symbol(\"van-field\");\nfunction useCustomFieldValue(customValue) {\n  const field = inject2(CUSTOM_FIELD_INJECTION_KEY, null);\n  if (field && !field.customValue.value) {\n    field.customValue.value = customValue;\n    watch2(customValue, () => {\n      field.resetValidation();\n      field.validateWithTrigger(\"onChange\");\n    });\n  }\n}\n\n// src/useRaf/index.ts\nfunction useRaf(fn, options) {\n  if (inBrowser) {\n    const { interval = 0, isLoop = false } = options || {};\n    let start;\n    let isStopped = false;\n    let rafId;\n    const stop = () => {\n      isStopped = true;\n      cancelAnimationFrame(rafId);\n    };\n    const frameWrapper = (timestamp) => {\n      if (isStopped)\n        return;\n      if (start === void 0) {\n        start = timestamp;\n      } else if (timestamp - start > interval) {\n        fn(timestamp);\n        start = timestamp;\n        if (!isLoop) {\n          stop();\n          return;\n        }\n      }\n      rafId = requestAnimationFrame(frameWrapper);\n    };\n    rafId = requestAnimationFrame(frameWrapper);\n    return stop;\n  }\n  return () => {\n  };\n}\nexport {\n  CUSTOM_FIELD_INJECTION_KEY,\n  cancelRaf,\n  doubleRaf,\n  flattenVNodes,\n  getScrollParent,\n  inBrowser,\n  onMountedOrActivated,\n  raf,\n  sortChildren,\n  supportsPassive,\n  useChildren,\n  useClickAway,\n  useCountDown,\n  useCustomFieldValue,\n  useEventListener,\n  usePageVisibility,\n  useParent,\n  useRaf,\n  useRect,\n  useScrollParent,\n  useToggle,\n  useWindowSize\n};\n"]},"metadata":{},"sourceType":"module"}