{"ast":null,"code":"import { get } from '@/utils/request';\nimport { ElMessage } from 'element-plus';\nexport default {\n  data() {\n    return {\n      types: '',\n      doctors: '',\n      activeName: '0',\n      currentPage: 1,\n      //默认页码为1\n      pagesize: 10,\n      //默认一页显示10条\n      dialogVisible: false,\n      dialogVisible1: false,\n      info: {},\n      //修改数据\n      info1: {},\n      //新增数据\n      tbData: [],\n      props: [],\n      types: [],\n      centerDialogVisible: false,\n      dialogVisible: false,\n      title: '',\n      week: [],\n      doctor: [],\n      keshi: [],\n      departmentId: '',\n      guahao: [],\n      innerVisible: false,\n      Edit: [],\n      patient: {\n        patient_id: sessionStorage.patient_id,\n        telephone: sessionStorage.telephone,\n        real_name: sessionStorage.real_name\n      },\n      //患者\n      props: [],\n      types: []\n    };\n  },\n\n  mounted() {\n    this.getAllDepartments();\n  },\n\n  methods: {\n    getAllDepartments() {\n      get('/getAllDepartments').then(res => {\n        this.types = res.data;\n        console.log(this.types);\n      });\n    },\n\n    tishi(id) {\n      get('/getDoctorsByDp1', {\n        departId1: id\n      }).then(res => {\n        this.doctors = res.data;\n      });\n    },\n\n    goto(id) {\n      this.$router.push({\n        name: 'introduce',\n        params: {\n          id\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2CA,SAASA,GAAT,QAAoB,iBAApB;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,eAAe;AACbC,MAAI,GAAG;AACL,WAAO;AACLC,WAAK,EAAE,EADF;AAELC,aAAO,EAAE,EAFJ;AAGLC,gBAAU,EAAE,GAHP;AAILC,iBAAW,EAAE,CAJR;AAIW;AAChBC,cAAQ,EAAE,EALL;AAKS;AACdC,mBAAa,EAAE,KANV;AAOLC,oBAAc,EAAE,KAPX;AAQLC,UAAI,EAAE,EARD;AAQK;AACVC,WAAK,EAAE,EATF;AASM;AACXC,YAAM,EAAE,EAVH;AAWLC,WAAK,EAAE,EAXF;AAYLV,WAAK,EAAE,EAZF;AAaLW,yBAAmB,EAAE,KAbhB;AAcLN,mBAAa,EAAE,KAdV;AAeLO,WAAK,EAAE,EAfF;AAgBLC,UAAI,EAAE,EAhBD;AAiBLC,YAAM,EAAE,EAjBH;AAkBLC,WAAK,EAAE,EAlBF;AAmBLC,kBAAY,EAAE,EAnBT;AAoBLC,YAAM,EAAE,EApBH;AAqBLC,kBAAY,EAAE,KArBT;AAsBLC,UAAI,EAAE,EAtBD;AAuBLC,aAAO,EAAE;AACPC,kBAAU,EAAEC,cAAc,CAACD,UADpB;AAEPE,iBAAS,EAAED,cAAc,CAACC,SAFnB;AAGPC,iBAAS,EAAEF,cAAc,CAACE;AAHnB,OAvBJ;AA2BF;AACHd,WAAK,EAAE,EA5BF;AA6BLV,WAAK,EAAE;AA7BF,KAAP;AA+BD,GAjCY;;AAkCbyB,SAAO,GAAG;AACR,SAAKC,iBAAL;AACD,GApCY;;AAqCbC,SAAO,EAAE;AACPD,qBAAiB,GAAG;AAClB7B,SAAG,CAAC,oBAAD,CAAH,CAA0B+B,IAA1B,CAAgCC,GAAD,IAAS;AACtC,aAAK7B,KAAL,GAAa6B,GAAG,CAAC9B,IAAjB;AACA+B,eAAO,CAACC,GAAR,CAAY,KAAK/B,KAAjB;AACD,OAHD;AAID,KANM;;AAOPgC,SAAK,CAACC,EAAD,EAAK;AACRpC,SAAG,CAAC,kBAAD,EAAqB;AAAEqC,iBAAS,EAAED;AAAb,OAArB,CAAH,CAA2CL,IAA3C,CAAiDC,GAAD,IAAS;AACvD,aAAK5B,OAAL,GAAe4B,GAAG,CAAC9B,IAAnB;AACD,OAFD;AAGD,KAXM;;AAYPoC,QAAI,CAACF,EAAD,EAAK;AACP,WAAKG,OAAL,CAAaC,IAAb,CAAkB;AAAEC,YAAI,EAAE,WAAR;AAAqBC,cAAM,EAAE;AAAEN;AAAF;AAA7B,OAAlB;AACF;;AAdO;AArCI,CAAf","names":["get","ElMessage","data","types","doctors","activeName","currentPage","pagesize","dialogVisible","dialogVisible1","info","info1","tbData","props","centerDialogVisible","title","week","doctor","keshi","departmentId","guahao","innerVisible","Edit","patient","patient_id","sessionStorage","telephone","real_name","mounted","getAllDepartments","methods","then","res","console","log","tishi","id","departId1","goto","$router","push","name","params"],"sourceRoot":"","sources":["D:\\小学期vscode\\demo01\\src\\views\\Department\\demo.vue"],"sourcesContent":["<template>\r\n  <el-card class=\"demo-collapse\">\r\n    <div v-for=\"content in types\" :key=\"content\">\r\n      <el-collapse v-model=\"activeName\" accordion>\r\n        <el-collapse-item @click=\"tishi(content.departmentId)\">\r\n          <template #title>\r\n            <h3>{{ content.departmentName }}</h3>\r\n          </template>\r\n          <!-- <el-table\r\n            :data=\"\r\n              tbData.slice((currentPage - 1) * pagesize, currentPage * pagesize)\r\n            \"\r\n            style=\"width: 100%\"\r\n          >\r\n            <el-table-column prop=\"departmentId\" label=\"科室ID\" width=\"150\" />\r\n            <el-table-column prop=\"departmentName\" label=\"科室\" width=\"150\" />\r\n            <el-table-column prop=\"level\" label=\"级别\" width=\"150\" />\r\n            <el-table-column prop=\"adress\" label=\"地址\" width=\"150\" />\r\n            <el-table-column prop=\"parentId\" label=\"上级科室\" width=\"150\" />\r\n            <el-table-column prop=\"createTime\" label=\"日期\" width=\"300\" />\r\n            <el-table-column fixed=\"right\" label=\"操作\" width=\"200\">\r\n              <template #default=\"row\">\r\n                <el-button type=\"success\" @click=\"handleClick(row)\">\r\n                  编辑\r\n                </el-button>\r\n                <el-popconfirm title=\"确定要删除吗?\" @confirm=\"del(row)\">\r\n                  <template #reference>\r\n                    <el-button type=\"danger\">删除</el-button>\r\n                  </template>\r\n                </el-popconfirm>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table> -->\r\n          <el-table v-for=\"shuju in props.children\" :key=\"shuju\">\r\n            <el-table-column prop=\"departmentId\" label=\"科室ID\" width=\"150\">{{ content.departmentName }}</el-table-column>\r\n          </el-table>\r\n        </el-collapse-item>\r\n      </el-collapse>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { get } from '@/utils/request'\r\nimport { ElMessage } from 'element-plus'\r\nexport default {\r\n  data() {\r\n    return {\r\n      types: '',\r\n      doctors: '',\r\n      activeName: '0',\r\n      currentPage: 1, //默认页码为1\r\n      pagesize: 10, //默认一页显示10条\r\n      dialogVisible: false,\r\n      dialogVisible1: false,\r\n      info: {}, //修改数据\r\n      info1: {}, //新增数据\r\n      tbData: [],\r\n      props: [],\r\n      types: [],\r\n      centerDialogVisible: false,\r\n      dialogVisible: false,\r\n      title: '',\r\n      week: [],\r\n      doctor: [],\r\n      keshi: [],\r\n      departmentId: '',\r\n      guahao: [],\r\n      innerVisible: false,\r\n      Edit: [],\r\n      patient: {\r\n        patient_id: sessionStorage.patient_id,\r\n        telephone: sessionStorage.telephone,\r\n        real_name: sessionStorage.real_name\r\n      }, //患者\r\n      props: [],\r\n      types: []\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getAllDepartments()\r\n  },\r\n  methods: {\r\n    getAllDepartments() {\r\n      get('/getAllDepartments').then((res) => {\r\n        this.types = res.data\r\n        console.log(this.types)\r\n      })\r\n    },\r\n    tishi(id) {\r\n      get('/getDoctorsByDp1', { departId1: id }).then((res) => {\r\n        this.doctors = res.data\r\n      })\r\n    },\r\n    goto(id) {\r\n      this.$router.push({ name: 'introduce', params: { id } })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// .demo-collapse {\r\n//   margin-right: 100px;\r\n//   margin-left: 100px;\r\n// }\r\n.news-list {\r\n  padding: 20px;\r\n  display: flex;\r\n\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  margin-right: 15px;\r\n  margin-left: 15px;\r\n  .news-item {\r\n    width: 250px;\r\n    margin: 20px 5px;\r\n    .image {\r\n      width: 100%;\r\n      height: 200px;\r\n      overflow: hidden;\r\n      cursor: pointer;\r\n    }\r\n    .title {\r\n      font-weight: bold;\r\n      width: 100%;\r\n      margin: 0;\r\n      padding: 0;\r\n      white-space: nowrap; // 强制不换行\r\n      overflow: hidden; // 超出隐藏\r\n      text-overflow: ellipsis; // 超出的文本显示省略号\r\n      text-align: center;\r\n      cursor: pointer;\r\n    }\r\n    .author {\r\n      color: #999999;\r\n      font-size: 12px;\r\n      white-space: nowrap; // 强制不换行\r\n      overflow: hidden; // 超出隐藏\r\n      text-overflow: ellipsis; // 超出的文本显示省略号\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}