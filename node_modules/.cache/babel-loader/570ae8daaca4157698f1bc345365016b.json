{"ast":null,"code":"import { ref } from 'vue';\nimport axios from 'axios';\nimport { ElForm, ElFormItem, ElInput, ElSelect, ElOption, ElButton, ElAlert } from 'element-plus';\nexport default {\n  components: {\n    ElForm,\n    ElFormItem,\n    ElInput,\n    ElSelect,\n    ElOption,\n    ElButton,\n    ElAlert\n  },\n\n  setup() {\n    const user = ref(null);\n\n    const fetchUser = async () => {\n      try {\n        const response = await axios.get('http://localhost:8081/doctor/findById');\n        user.value = response.data;\n      } catch (error) {\n        console.error('Error fetching user:', error);\n      }\n    };\n\n    const updateUser = async () => {\n      try {\n        await axios.put('http://localhost:8081/doctor/update', user.value);\n        alert('用户信息已更新');\n      } catch (error) {\n        console.error('Error updating user:', error);\n        alert('更新用户信息时出错');\n      }\n    };\n\n    fetchUser();\n    return {\n      user,\n      updateUser\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAuCA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,UAAjB,EAA6BC,OAA7B,EAAsCC,QAAtC,EAAgDC,QAAhD,EAA0DC,QAA1D,EAAoEC,OAApE,QAAmF,cAAnF;AAEA,eAAe;AACbC,YAAU,EAAE;AACVP,UADU;AAEVC,cAFU;AAGVC,WAHU;AAIVC,YAJU;AAKVC,YALU;AAMVC,YANU;AAOVC;AAPU,GADC;;AAUbE,OAAK,GAAG;AACN,UAAMC,IAAG,GAAIX,GAAG,CAAC,IAAD,CAAhB;;AAEA,UAAMY,SAAQ,GAAI,YAAY;AAC5B,UAAI;AACF,cAAMC,QAAO,GAAI,MAAMZ,KAAK,CAACa,GAAN,CAAU,uCAAV,CAAvB;AACAH,YAAI,CAACI,KAAL,GAAaF,QAAQ,CAACG,IAAtB;AACF,OAHA,CAGE,OAAOC,KAAP,EAAc;AACdC,eAAO,CAACD,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;AACF;AACD,KAPD;;AASA,UAAME,UAAS,GAAI,YAAY;AAC7B,UAAI;AACF,cAAMlB,KAAK,CAACmB,GAAN,CAAU,qCAAV,EAAiDT,IAAI,CAACI,KAAtD,CAAN;AACAM,aAAK,CAAC,SAAD,CAAL;AACF,OAHA,CAGE,OAAOJ,KAAP,EAAc;AACdC,eAAO,CAACD,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;AACAI,aAAK,CAAC,WAAD,CAAL;AACF;AACD,KARD;;AAUAT,aAAS;AAET,WAAO;AAAED,UAAF;AAAQQ;AAAR,KAAP;AACF;;AAnCa,CAAf","names":["ref","axios","ElForm","ElFormItem","ElInput","ElSelect","ElOption","ElButton","ElAlert","components","setup","user","fetchUser","response","get","value","data","error","console","updateUser","put","alert"],"sourceRoot":"","sources":["D:\\Dev\\Front\\Remote_Medical_Consultation_Platform_Vue\\src\\views\\Admin\\personal.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1>个人中心</h1>\r\n    <div v-if=\"user\">\r\n      <el-form :model=\"user\" label-width=\"80px\">\r\n        <el-form-item label=\"用户名\">\r\n          <el-input v-model=\"user.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"科室\">\r\n          <el-input v-model=\"user.department\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系方式\">\r\n          <el-input v-model=\"user.telephone\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\">\r\n          <el-select v-model=\"user.gender\" placeholder=\"请选择\">\r\n            <el-option label=\"男\" value=\"male\"></el-option>\r\n            <el-option label=\"女\" value=\"female\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"年龄\">\r\n          <el-input v-model.number=\"user.age\" type=\"number\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"updateUser\">更新用户信息</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div v-else>\r\n      <el-alert\r\n        title=\"正在加载用户信息...\"\r\n        type=\"info\"\r\n        show-icon\r\n      ></el-alert>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport axios from 'axios';\r\nimport { ElForm, ElFormItem, ElInput, ElSelect, ElOption, ElButton, ElAlert } from 'element-plus';\r\n\r\nexport default {\r\n  components: {\r\n    ElForm,\r\n    ElFormItem,\r\n    ElInput,\r\n    ElSelect,\r\n    ElOption,\r\n    ElButton,\r\n    ElAlert\r\n  },\r\n  setup() {\r\n    const user = ref(null);\r\n\r\n    const fetchUser = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:8081/doctor/findById');\r\n        user.value = response.data;\r\n      } catch (error) {\r\n        console.error('Error fetching user:', error);\r\n      }\r\n    };\r\n\r\n    const updateUser = async () => {\r\n      try {\r\n        await axios.put('http://localhost:8081/doctor/update', user.value);\r\n        alert('用户信息已更新');\r\n      } catch (error) {\r\n        console.error('Error updating user:', error);\r\n        alert('更新用户信息时出错');\r\n      }\r\n    };\r\n\r\n    fetchUser();\r\n\r\n    return { user, updateUser };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  margin: 20px auto;\r\n  max-width: 800px;\r\n}\r\n.container {\r\n  margin: 20px auto;\r\n  max-width: 400px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.error {\r\n  color: red;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}