{"ast":null,"code":"import { get } from '@/utils/request';\nexport default {\n  data() {\n    return {\n      currentPage: 1,\n      pagesize: 15,\n      dialogVisible: false,\n      dialogVisible1: false,\n      list: []\n    };\n  },\n\n  mounted() {\n    get('http://localhost:8080/allOrder').then(res => {\n      const orderDetailMap = new Map();\n      const orderList = res.data.data;\n      console.log(th);\n      get('http://localhost:8080/allOrderDetail').then(res2 => {\n        const orderDetailList = res2.data.data;\n        orderDetailList.forEach(item => {\n          orderDetailMap.set(item.orderId, item);\n        });\n        orderList.forEach(item => {\n          const detail = orderDetailMap.get(item.orderId);\n          item.userId = detail.userId;\n          item.totalPrice = detail.count * detail.price; // 计算总价\n\n          item.orderTime = detail.orderTime;\n        });\n        this.list = orderList;\n      });\n    });\n  },\n\n  methods: {\n    handleSizeChange(size) {\n      this.pagesize = size;\n    },\n\n    handleCurrentChange(currentPage) {\n      this.currentPage = currentPage;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmBA,SAASA,GAAT,QAAoB,iBAApB;AAEA,eAAe;AACbC,MAAI,GAAG;AACL,WAAO;AACLC,iBAAW,EAAE,CADR;AAELC,cAAQ,EAAE,EAFL;AAGLC,mBAAa,EAAE,KAHV;AAILC,oBAAc,EAAE,KAJX;AAKLC,UAAI,EAAE;AALD,KAAP;AAOD,GATY;;AAUbC,SAAO,GAAG;AACRP,OAAG,CAAC,gCAAD,CAAH,CAAsCQ,IAAtC,CAA2CC,GAAE,IAAK;AAChD,YAAMC,cAAa,GAAI,IAAIC,GAAJ,EAAvB;AACA,YAAMC,SAAQ,GAAIH,GAAG,CAACR,IAAJ,CAASA,IAA3B;AACAY,aAAO,CAACC,GAAR,CAAYC,EAAZ;AACAf,SAAG,CAAC,sCAAD,CAAH,CAA4CQ,IAA5C,CAAiDQ,IAAG,IAAK;AACvD,cAAMC,eAAc,GAAID,IAAI,CAACf,IAAL,CAAUA,IAAlC;AACAgB,uBAAe,CAACC,OAAhB,CAAwBC,IAAG,IAAK;AAC9BT,wBAAc,CAACU,GAAf,CAAmBD,IAAI,CAACE,OAAxB,EAAiCF,IAAjC;AACD,SAFD;AAGAP,iBAAS,CAACM,OAAV,CAAkBC,IAAG,IAAK;AACxB,gBAAMG,MAAK,GAAIZ,cAAc,CAACV,GAAf,CAAmBmB,IAAI,CAACE,OAAxB,CAAf;AACAF,cAAI,CAACI,MAAL,GAAcD,MAAM,CAACC,MAArB;AACAJ,cAAI,CAACK,UAAL,GAAkBF,MAAM,CAACG,KAAP,GAAeH,MAAM,CAACI,KAAxC,CAHwB,CAGuB;;AAC/CP,cAAI,CAACQ,SAAL,GAAiBL,MAAM,CAACK,SAAxB;AACD,SALD;AAMA,aAAKrB,IAAL,GAAYM,SAAZ;AACD,OAZD;AAaD,KAjBD;AAkBD,GA7BY;;AA8BbgB,SAAO,EAAE;AACPC,oBAAgB,CAACC,IAAD,EAAO;AACrB,WAAK3B,QAAL,GAAgB2B,IAAhB;AACD,KAHM;;AAIPC,uBAAmB,CAAC7B,WAAD,EAAc;AAC/B,WAAKA,WAAL,GAAmBA,WAAnB;AACD;;AANM;AA9BI,CAAf","names":["get","data","currentPage","pagesize","dialogVisible","dialogVisible1","list","mounted","then","res","orderDetailMap","Map","orderList","console","log","th","res2","orderDetailList","forEach","item","set","orderId","detail","userId","totalPrice","count","price","orderTime","methods","handleSizeChange","size","handleCurrentChange"],"sourceRoot":"","sources":["D:\\Dev\\Front\\finalProject\\src\\views\\Admin\\order.vue"],"sourcesContent":["<template>\r\n  <el-card class=\"box-card\">\r\n    <el-table :data=\"list.slice((currentPage - 1) * pagesize, currentPage * pagesize)\" style=\"width: 100%\">\r\n      <el-table-column prop=\"orderId\" label=\"订单编号\" width=\"300\" />\r\n      <el-table-column prop=\"userId\" label=\"用户Id\" width=\"200\" /> <!-- 修改处 -->\r\n      <el-table-column prop=\"medicineName\" label=\"物品明细\" width=\"200\" />\r\n      <el-table-column prop=\"count\" label=\"数量\" width=\"200\" />\r\n      <el-table-column prop=\"price\" label=\"单价\" width=\"200\" />\r\n      <el-table-column prop=\"totalPrice\" label=\"总价\" width=\"200\" />\r\n      <el-table-column prop=\"orderTime\" label=\"下单时间\" width=\"200\" /> <!-- 修改处 -->\r\n    </el-table>\r\n\r\n    <el-pagination currentPage=\"currentPage\" :page-sizes=\"[10]\" page-size=\"10\" :background=\"background\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\" :total=\"list.length\" @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\" />\r\n  </el-card>\r\n</template>\r\n  \r\n<script>\r\nimport { get } from '@/utils/request';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      currentPage: 1,\r\n      pagesize: 15,\r\n      dialogVisible: false,\r\n      dialogVisible1: false,\r\n      list: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    get('http://localhost:8080/allOrder').then(res => {\r\n      const orderDetailMap = new Map();\r\n      const orderList = res.data.data;\r\n      console.log(th)\r\n      get('http://localhost:8080/allOrderDetail').then(res2 => {\r\n        const orderDetailList = res2.data.data;\r\n        orderDetailList.forEach(item => {\r\n          orderDetailMap.set(item.orderId, item);\r\n        });\r\n        orderList.forEach(item => {\r\n          const detail = orderDetailMap.get(item.orderId);\r\n          item.userId = detail.userId;\r\n          item.totalPrice = detail.count * detail.price; // 计算总价\r\n          item.orderTime = detail.orderTime;\r\n        });\r\n        this.list = orderList;\r\n      });\r\n    });\r\n  },\r\n  methods: {\r\n    handleSizeChange(size) {\r\n      this.pagesize = size;\r\n    },\r\n    handleCurrentChange(currentPage) {\r\n      this.currentPage = currentPage;\r\n    },\r\n  },\r\n};\r\n</script>\r\n  \r\n<style scoped>\r\n.box-card {\r\n  margin-top: 5px;\r\n  margin-left: 15px;\r\n  margin-right: 15px;\r\n  height: 95%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}