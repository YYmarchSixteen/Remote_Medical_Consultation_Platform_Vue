{"ast":null,"code":"import { ref } from '@vue/reactivity';\nimport axios from 'axios';\nexport default {\n  name: 'LoginRegister',\n\n  data() {\n    return {\n      BASE_URL: 'http://localhost:8080/',\n      form: {\n        username: '',\n        password: '',\n        telephone: '',\n        address: ''\n      },\n      types: [],\n      value: '',\n      regMsg: ''\n    };\n  },\n\n  setup() {\n    const rules = ref({\n      username: [{\n        required: true,\n        message: '请填写账户',\n        trigger: 'blur'\n      }],\n      password: [{\n        required: true,\n        message: '请填写密码',\n        trigger: 'blur'\n      }],\n      telephone: [{\n        required: true,\n        message: '请填写电话',\n        trigger: 'blur'\n      }],\n      address: [{\n        required: true,\n        message: '请填写地址',\n        trigger: 'blur'\n      }]\n    });\n    return {\n      rules\n    };\n  },\n\n  mounted() {},\n\n  methods: {\n    regForm() {\n      this.$refs.formRef.validate(valid => {\n        if (valid) {\n          axios.get('http://localhost:8080/reg', {\n            params: {\n              username: this.form.username,\n              password: this.form.password,\n              telephone: this.form.telephone,\n              address: this.form.address\n            }\n          }).then(res => {\n            if (res.data.msg === '用户名已存在,注册失败') {\n              this.regMsg = '用户名已存在，请重新注册。';\n            } else if (res.data.msg === '注册失败') {\n              this.regMsg = '注册失败，请稍后再试。';\n            } else if (res.data.msg === '注册成功') {\n              this.regMsg = '';\n              this.message.success('恭喜你注册成功！');\n              this.$router.push('/');\n            }\n          }).catch(error => {\n            console.log(error);\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2CA,SAASA,GAAT,QAAoB,iBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACXC,MAAI,EAAE,eADK;;AAEXC,MAAI,GAAG;AACH,WAAO;AACHC,cAAQ,EAAE,wBADP;AAEHC,UAAI,EAAE;AACFC,gBAAQ,EAAE,EADR;AAEFC,gBAAQ,EAAE,EAFR;AAGFC,iBAAS,EAAE,EAHT;AAIFC,eAAO,EAAE;AAJP,OAFH;AAQHC,WAAK,EAAE,EARJ;AASHC,WAAK,EAAE,EATJ;AAUHC,YAAM,EAAE;AAVL,KAAP;AAYH,GAfU;;AAgBXC,OAAK,GAAG;AACJ,UAAMC,KAAI,GAAId,GAAG,CAAC;AACdM,cAAQ,EAAE,CACN;AACIS,gBAAQ,EAAE,IADd;AAEIC,eAAO,EAAE,OAFb;AAGIC,eAAO,EAAE;AAHb,OADM,CADI;AAQdV,cAAQ,EAAE,CACN;AACIQ,gBAAQ,EAAE,IADd;AAEIC,eAAO,EAAE,OAFb;AAGIC,eAAO,EAAE;AAHb,OADM,CARI;AAedT,eAAS,EAAE,CACP;AACIO,gBAAQ,EAAE,IADd;AAEIC,eAAO,EAAE,OAFb;AAGIC,eAAO,EAAE;AAHb,OADO,CAfG;AAsBdR,aAAO,EAAE,CACL;AACIM,gBAAQ,EAAE,IADd;AAEIC,eAAO,EAAE,OAFb;AAGIC,eAAO,EAAE;AAHb,OADK;AAtBK,KAAD,CAAjB;AA+BA,WAAO;AAAEH;AAAF,KAAP;AACH,GAjDU;;AAkDXI,SAAO,GAAG,CAAG,CAlDF;;AAmDXC,SAAO,EAAE;AACLC,WAAO,GAAG;AACN,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,QAAnB,CAA6BC,KAAD,IAAW;AACnC,YAAIA,KAAJ,EAAW;AACPvB,eAAI,CACCwB,GADL,CACS,2BADT,EACsC;AAC9BC,kBAAM,EAAE;AACJpB,sBAAQ,EAAE,KAAKD,IAAL,CAAUC,QADhB;AAEJC,sBAAQ,EAAE,KAAKF,IAAL,CAAUE,QAFhB;AAGJC,uBAAS,EAAE,KAAKH,IAAL,CAAUG,SAHjB;AAIJC,qBAAO,EAAE,KAAKJ,IAAL,CAAUI;AAJf;AADsB,WADtC,EASKkB,IATL,CASWC,GAAD,IAAS;AACX,gBAAIA,GAAG,CAACzB,IAAJ,CAAS0B,GAAT,KAAiB,aAArB,EAAoC;AAChC,mBAAKjB,MAAL,GAAc,eAAd;AACJ,aAFA,MAEO,IAAIgB,GAAG,CAACzB,IAAJ,CAAS0B,GAAT,KAAiB,MAArB,EAA6B;AAChC,mBAAKjB,MAAL,GAAc,aAAd;AACJ,aAFO,MAEA,IAAIgB,GAAG,CAACzB,IAAJ,CAAS0B,GAAT,KAAiB,MAArB,EAA6B;AAChC,mBAAKjB,MAAL,GAAc,EAAd;AACA,mBAAKI,OAAL,CAAac,OAAb,CAAqB,UAArB;AACA,mBAAKC,OAAL,CAAaC,IAAb,CAAkB,GAAlB;AACJ;AACH,WAnBL,EAoBKC,KApBL,CAoBYC,KAAD,IAAW;AACdC,mBAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,WAtBL;AAuBJ,SAxBA,MAwBO;AACH,iBAAO,KAAP;AACJ;AACH,OA5BD;AA6BH;;AA/BI;AAnDE,CAAf","names":["ref","axios","name","data","BASE_URL","form","username","password","telephone","address","types","value","regMsg","setup","rules","required","message","trigger","mounted","methods","regForm","$refs","formRef","validate","valid","get","params","then","res","msg","success","$router","push","catch","error","console","log"],"sourceRoot":"","sources":["D:\\Dev\\Front\\demo01\\src\\views\\Login\\Reg.vue"],"sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <el-form :model=\"form\" label-position=\"top\" :rules=\"rules\" ref=\"formRef\" @submit.prevent=\"regForm\">\r\n            <div class=\"back_img\"></div>\r\n            <div class=\"login\">\r\n                <div class=\"lgoinImg\">\r\n                    <img src=\"../../assets/img/3.webp\" />\r\n                </div>\r\n                <div class=\"login_title\"></div>\r\n                <div class=\"login_input\">\r\n                    <el-form-item prop=\"username\">\r\n                        <el-input prefix-icon=\"User\" placeholder=\"请输入账号\" v-model=\"form.username\"\r\n                            :name=\"'username'\"></el-input>\r\n                    </el-form-item>\r\n                </div>\r\n                <div class=\"login_input\">\r\n                    <el-form-item prop=\"password\">\r\n                        <el-input prefix-icon=\"Lock\" placeholder=\"请输入密码\" show-password v-model=\"form.password\"\r\n                            :name=\"'password'\"></el-input>\r\n                    </el-form-item>\r\n                </div>\r\n                <div class=\"login_input\">\r\n                    <el-form-item prop=\"telephone\">\r\n                        <el-input prefix-icon=\"Phone\" placeholder=\"请输入电话\" v-model=\"form.telephone\"\r\n                            :name=\"'telephone'\"></el-input>\r\n                    </el-form-item>\r\n                </div>\r\n                <div class=\"login_input\">\r\n                    <el-form-item prop=\"address\">\r\n                        <el-input prefix-icon=\"Location\" placeholder=\"请输入地址\" v-model=\"form.address\"\r\n                            :name=\"'address'\"></el-input>\r\n                    </el-form-item>\r\n                </div>\r\n                <div class=\"login_button\">\r\n                    <p @click=\"regForm\">注册</p>\r\n                </div>\r\n            </div>\r\n        </el-form>\r\n        <p style=\"color:red\">{{ regMsg }}</p>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\nimport { ref } from '@vue/reactivity';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: 'LoginRegister',\r\n    data() {\r\n        return {\r\n            BASE_URL: 'http://localhost:8080/',\r\n            form: {\r\n                username: '',\r\n                password: '',\r\n                telephone: '',\r\n                address: '',\r\n            },\r\n            types: [],\r\n            value: '',\r\n            regMsg: '',\r\n        };\r\n    },\r\n    setup() {\r\n        const rules = ref({\r\n            username: [\r\n                {\r\n                    required: true,\r\n                    message: '请填写账户',\r\n                    trigger: 'blur',\r\n                },\r\n            ],\r\n            password: [\r\n                {\r\n                    required: true,\r\n                    message: '请填写密码',\r\n                    trigger: 'blur',\r\n                },\r\n            ],\r\n            telephone: [\r\n                {\r\n                    required: true,\r\n                    message: '请填写电话',\r\n                    trigger: 'blur',\r\n                },\r\n            ],\r\n            address: [\r\n                {\r\n                    required: true,\r\n                    message: '请填写地址',\r\n                    trigger: 'blur',\r\n                },\r\n            ],\r\n        });\r\n\r\n        return { rules };\r\n    },\r\n    mounted() { },\r\n    methods: {\r\n        regForm() {\r\n            this.$refs.formRef.validate((valid) => {\r\n                if (valid) {\r\n                    axios\r\n                        .get('http://localhost:8080/reg', {\r\n                            params: {\r\n                                username: this.form.username,\r\n                                password: this.form.password,\r\n                                telephone: this.form.telephone,\r\n                                address: this.form.address,\r\n                            },\r\n                        })\r\n                        .then((res) => {\r\n                            if (res.data.msg === '用户名已存在,注册失败') {\r\n                                this.regMsg = '用户名已存在，请重新注册。';\r\n                            } else if (res.data.msg === '注册失败') {\r\n                                this.regMsg = '注册失败，请稍后再试。';\r\n                            } else if (res.data.msg === '注册成功') {\r\n                                this.regMsg = '';\r\n                                this.message.success('恭喜你注册成功！');\r\n                                this.$router.push('/');\r\n                            }\r\n                        })\r\n                        .catch((error) => {\r\n                            console.log(error);\r\n                        });\r\n                } else {\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n  \r\n<style scoped>\r\n.back_img {\r\n    background: url('../../assets/img/5.jpeg');\r\n    background-size: 100% 100%;\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    left: 0;\r\n    top: 0;\r\n}\r\n\r\n.login {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    background: #fff;\r\n    opacity: 0.9;\r\n    padding: 30px;\r\n    width: 18%;\r\n    border: 1px solid #eee;\r\n    border-radius: 20px;\r\n}\r\n\r\n.lgoinImg {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n\r\n.lgoinImg img {\r\n    width: 110px;\r\n    height: 110px;\r\n    background: #eceeed;\r\n    border-radius: 50%;\r\n    border: 10px solid #fff;\r\n}\r\n\r\n.login_title {\r\n    text-align: center;\r\n    padding-bottom: 20px;\r\n}\r\n\r\n.login_input {\r\n    margin-top: 15px;\r\n}\r\n\r\n.login_input:nth-child(2) {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.login_input:nth-child(3) {\r\n    margin-top: 20px;\r\n}\r\n\r\n.login_input:nth-child(4) {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.login_button {\r\n    margin-top: 20px;\r\n    display: flex;\r\n}\r\n\r\n.login_button p {\r\n    color: #fff;\r\n    font-size: 15px;\r\n    display: block;\r\n    line-height: 40px;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    width: 100%;\r\n    border: 1px solid #ddd;\r\n}\r\n\r\n.login_button p:nth-child(1) {\r\n    background: #409eff;\r\n    margin-right: 10px;\r\n}\r\n</style>\r\n  "]},"metadata":{},"sourceType":"module"}