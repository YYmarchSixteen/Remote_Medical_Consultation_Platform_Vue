{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../../assets/img/3.webp';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2c86e14e\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"main\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"back_img\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"login\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"lgoinImg\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0\n})], -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"login_title\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_6 = {\n  class: \"login_input\"\n};\nconst _hoisted_7 = {\n  class: \"login_input\"\n};\nconst _hoisted_8 = {\n  class: \"login_button\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_option = _resolveComponent(\"el-option\");\n\n  const _component_el_select = _resolveComponent(\"el-select\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_form, {\n    model: $data.from,\n    \"label-position\": \"top\",\n    rules: $setup.rules,\n    ref: \"fromRef\"\n  }, {\n    default: _withCtx(() => [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_form_item, {\n      prop: \"name\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        \"prefix-icon\": \"User\",\n        placeholder: \"请输入账号\",\n        modelValue: $data.from.name,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.from.name = $event)\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    })]), _createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_el_form_item, {\n      prop: \"password\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        \"prefix-icon\": \"Lock\",\n        placeholder: \"请输入密码\",\n        \"show-password\": \"\",\n        modelValue: $data.from.password,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.from.password = $event)\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    })]), _createVNode(_component_el_form_item, {\n      prop: \"ident\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_select, {\n        modelValue: $data.from.ident,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.from.ident = $event),\n        placeholder: \"请选择用户类型\",\n        class: \"login_input1\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_option, {\n          label: \"管理员\",\n          value: \"1\"\n        }), _createVNode(_component_el_option, {\n          label: \"用户\",\n          value: \"0\"\n        })]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"p\", {\n      onClick: _cache[3] || (_cache[3] = $event => $options.checkLogin($data.from))\n    }, \"登录\"), _createElementVNode(\"p\", {\n      onClick: _cache[4] || (_cache[4] = $event => $options.reg())\n    }, \"注册\")])])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"model\", \"rules\"])]);\n}","map":{"version":3,"mappings":";OAMeA,gBAA6B;;;;;AALrCC,OAAK,EAAC;;;gEAEPC,oBAA4B,KAA5B,EAA4B;AAAvBD,OAAK,EAAC;AAAiB,CAA5B,EAAqB,IAArB,EAAqB;AAAA;AAArB;;;AACKA,OAAK,EAAC;;;gEACTC,oBAEM,KAFN,EAEM;AAFDD,OAAK,EAAC;AAEL,CAFN,EAAqB,cACnBC,oBAAqC,KAArC,EAAqC;AAAhCC,KAA6B,EAA7BH;AAAgC,CAArC,CADmB,CAArB;;AAAA;;gEAGAE,oBAA+B,KAA/B,EAA+B;AAA1BD,OAAK,EAAC;AAAoB,CAA/B,EAAwB,IAAxB,EAAwB;AAAA;AAAxB;;;AACKA,OAAK,EAAC;;;AAKNA,OAAK,EAAC;;;AAWNA,OAAK,EAAC;;;;;;;;;;;;;uBAxBjBG,oBA8BM,KA9BN,cA8BM,CA7BJC,aA4BUC,kBA5BV,EA4BU;AA5BAC,SAAK,EAAEC,UA4BP;AA5Ba,sBAAe,KA4B5B;AA5BmCC,SAAK,EAAEC,YA4B1C;AA5BiDC,OAAG,EAAC;AA4BrD,GA5BV;sBACE,MAA4B,CAA5BC,UAA4B,EAC5BV,oBAyBM,KAzBN,cAyBM,CAxBJW,UAwBI,EArBJC,UAqBI,EApBJZ,oBAIM,KAJN,cAIM,CAHJG,aAEeU,uBAFf,EAEe;AAFDC,UAAI,EAAC;AAEJ,KAFf,EAAyB;wBACvB,MAAgF,CAAhFX,aAAgFY,mBAAhF,EAAgF;AAAtE,uBAAY,MAA0D;AAAnDC,mBAAW,EAAC,OAAuC;oBAAtBV,WAAKW,IAAiB;mEAAtBX,WAAKW,OAAIC;AAAa,OAAhF;;AAAA,uBAAgF,EADzD;;;;AAAA,KAAzB,CAGI,CAJN,CAoBI,EAfJlB,oBAIM,KAJN,cAIM,CAHJG,aAEeU,uBAFf,EAEe;AAFDC,UAAI,EAAC;AAEJ,KAFf,EAA6B;wBAC3B,MAAkG,CAAlGX,aAAkGY,mBAAlG,EAAkG;AAAxF,uBAAY,MAA4E;AAArEC,mBAAW,EAAC,OAAyD;AAAjD,2BAAiD;oBAA1BV,WAAKa,QAAqB;mEAA1Bb,WAAKa,WAAQD;AAAa,OAAlG;;AAAA,uBAAkG,EADvE;;;;AAAA,KAA7B,CAGI,CAJN,CAeI,EAVJf,aAKeU,uBALf,EAKe;AALDC,UAAI,EAAC;AAKJ,KALf,EAA0B;wBACxB,MAGY,CAHZX,aAGYiB,oBAHZ,EAGY;oBAHQd,WAAKe,KAGb;mEAHQf,WAAKe,QAAKH,OAGlB;AAHoBF,mBAAW,EAAC,SAGhC;AAH0CjB,aAAK,EAAC;AAGhD,OAHZ;0BACE,MAA6C,CAA7CI,aAA6CmB,oBAA7C,EAA6C;AAAlCC,eAAK,EAAC,KAA4B;AAAtBC,eAAK,EAAC;AAAgB,SAA7C,CAA6C,EAC7CrB,aAA4CmB,oBAA5C,EAA4C;AAAjCC,eAAK,EAAC,IAA2B;AAAtBC,eAAK,EAAC;AAAgB,SAA5C,CAD6C;;;;OAD/C;;AAAA,uBAGY,EAJY;;;;AAAA,KAA1B,CAUI,EAJJxB,oBAGM,KAHN,cAGM,CAFJA,oBAAmC,GAAnC,EAAmC;AAA/ByB,aAAK,sCAAEC,oBAAWpB,UAAX,CAAF;AAA0B,KAAnC,EAA6B,IAA7B,CAEI,EADJN,oBAAwB,GAAxB,EAAwB;AAApByB,aAAK,sCAAEC,cAAF;AAAe,KAAxB,EAAkB,IAAlB,CACI,CAHN,CAII,CAzBN,CAD4B;;;;GAD9B;;AAAA,uBA6BI,CA9BN","names":["_imports_0","class","_createElementVNode","src","_createElementBlock","_createVNode","_component_el_form","model","$data","rules","$setup","ref","_hoisted_2","_hoisted_4","_hoisted_5","_component_el_form_item","prop","_component_el_input","placeholder","name","$event","password","_component_el_select","ident","_component_el_option","label","value","onClick","$options"],"sourceRoot":"","sources":["D:\\Dev\\Front\\demo01\\src\\views\\Login\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <el-form :model=\"from\" label-position=\"top\" :rules=\"rules\" ref=\"fromRef\">\r\n      <div class=\"back_img\"></div>\r\n      <div class=\"login\">\r\n        <div class=\"lgoinImg\">\r\n          <img src=\"../../assets/img/3.webp\" />\r\n        </div>\r\n        <div class=\"login_title\"></div>\r\n        <div class=\"login_input\">\r\n          <el-form-item prop=\"name\">\r\n            <el-input prefix-icon=\"User\" placeholder=\"请输入账号\" v-model=\"from.name\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <div class=\"login_input\">\r\n          <el-form-item prop=\"password\">\r\n            <el-input prefix-icon=\"Lock\" placeholder=\"请输入密码\" show-password v-model=\"from.password\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <el-form-item prop=\"ident\">\r\n          <el-select v-model=\"from.ident\" placeholder=\"请选择用户类型\" class=\"login_input1\">\r\n            <el-option label=\"管理员\" value=\"1\"></el-option>\r\n            <el-option label=\"用户\" value=\"0\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <div class=\"login_button\">\r\n          <p @click=\"checkLogin(from)\">登录</p>\r\n          <p @click=\"reg()\">注册</p>\r\n        </div>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref } from '@vue/reactivity'\r\nimport axios from 'axios'\r\n// do not use same name with ref\r\n\r\nexport default {\r\n  name: 'LoginRegister',\r\n  data() {\r\n    return {\r\n      BASE_URL: 'http://localhost:8080/',\r\n      from: {\r\n        name: '',\r\n        password: '',\r\n        ident: ''\r\n      },\r\n      types: [],\r\n      value: '',\r\n      login: []\r\n    }\r\n  },\r\n  setup() {\r\n    const rules = ref({\r\n      name: [\r\n        {\r\n          required: true,\r\n          message: '请填写账户',\r\n          trigger: 'blur'\r\n        }\r\n      ],\r\n      password: [\r\n        {\r\n          required: true,\r\n          message: '请填写密码',\r\n          trigger: 'blur'\r\n        }\r\n      ]\r\n    })\r\n\r\n    return { rules }\r\n  },\r\n  mounted() { },\r\n  methods: {\r\n    reg() {\r\n      // 跳转到 /reg 页面\r\n      this.$router.push('/reg')\r\n    },\r\n    checkLogin(from) {\r\n      axios.get(this.BASE_URL + 'login', {\r\n        params: {\r\n          username: from.name,\r\n          password: from.password,\r\n          ident: from.ident\r\n        }\r\n      })\r\n      .then(res => {\r\n        if (res.data === '登录成功') {\r\n          this.$message.success('登录成功,欢迎回来')\r\n\r\n          // 根据用户类型跳转到不同页面\r\n          if (from.ident === '0') {\r\n            this.$router.push('/userIndex')\r\n          } else if (from.ident === '1') {\r\n            this.$router.push('/user')\r\n          }\r\n\r\n        } else {\r\n          this.$message.error('用户名或密码错误，登录失败')\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(err)\r\n        this.$message.error('登录失败，请稍后再试')\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.back_img {\r\n  background: url('../../assets/');\r\n  background-size: 100% 100%;\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n\r\n.login {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background: #fff;\r\n  opacity: 0.9;\r\n  /* background: #65768557; */\r\n  padding: 30px;\r\n  width: 18%;\r\n  border: 1px solid #eee;\r\n  border-radius: 20px;\r\n}\r\n\r\n.lgoinImg {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.lgoinImg img {\r\n  width: 110px;\r\n  height: 110px;\r\n  background: #eceeed;\r\n  border-radius: 50%;\r\n  border: 10px solid #fff;\r\n}\r\n\r\n.login_title {\r\n  text-align: center;\r\n  padding-bottom: 20px;\r\n}\r\n\r\n.login_input {\r\n  margin-top: 15px;\r\n}\r\n\r\n.login_input:nth-child(2) {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.login_input:nth-child(3) {\r\n  margin-top: 20px;\r\n}\r\n\r\n.login_button {\r\n  margin-top: 20px;\r\n  display: flex;\r\n}\r\n\r\n.login_button p {\r\n  color: #fff;\r\n  font-size: 15px;\r\n  display: block;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n.login_button p:nth-child(1) {\r\n  background: #409eff;\r\n  margin-right: 10px;\r\n}\r\n\r\n.login_button p:nth-child(2) {\r\n  background: #67c23a;\r\n  margin-left: 10px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}