{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3e3afc8c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"header\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"body\"\n}, null, -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Header = _resolveComponent(\"Header\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_Header)]), _hoisted_2], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;;AACSA,OAAK,EAAC;;;gEAGXC,oBAGM,KAHN,EAGM;AAHDD,OAAK,EAAC;AAGL,CAHN,EAAiB,IAAjB,EAAiB;AAAA;AAAjB;;;;;6DAHAC,oBAEM,KAFN,cAEM,CADJC,aAAiBC,iBAAjB,CACI,CAFN,GAGAC","names":["class","_createElementVNode","_createVNode","_component_Header","_hoisted_2"],"sourceRoot":"","sources":["D:\\Dev\\Front\\finalProject\\src\\views\\User\\test.vue"],"sourcesContent":["<template>\r\n    <div class=\"header\">\r\n      <Header></Header>\r\n    </div>\r\n    <div class=\"body\">\r\n \r\n\r\n    </div>\r\n  </template>\r\n    \r\n  <script>\r\n  import axios from 'axios';\r\n  import Header from '../userLayout/Header/header.vue';\r\n  \r\n  export default {\r\n    components: {\r\n      Header\r\n    },\r\n    data() {\r\n      return {\r\n        form: {},\r\n        username: sessionStorage.getItem('username'),\r\n        userid: sessionStorage.getItem('userid'),\r\n        isLoading: false,\r\n        medicineList: [],\r\n        equipmentTypes: [],\r\n        selectedType: '',\r\n        back: []\r\n      };\r\n    },\r\n  \r\n    mounted() {\r\n      this.getEquipmentList();\r\n      this.fetchEquipmentTypes();\r\n  \r\n    },\r\n  \r\n    methods: {\r\n      equipmentSearch() {\r\n    if (!this.searchTerm) { // 如果搜索框为空，就显示全部\r\n      this.getEquipmentList();\r\n      return;\r\n    }\r\n    const keyword = this.searchTerm.trim();\r\n    const filteredList = this.equipmentList.filter((item) =>\r\n      item.equipmentname.indexOf(keyword) !== -1 ||\r\n      item.feature.indexOf(keyword) !== -1 ||\r\n      item.material.indexOf(keyword) !== -1\r\n    );\r\n    this.updateEquipmentList(filteredList);\r\n  },\r\n      changeSelect() {\r\n        alert(\"当前显示类型\" + this.selectedType)\r\n        axios.get('http://localhost:8080/typeSearch?type=' + this.selectedType)\r\n          .then(res => {\r\n            console.log(res.data)\r\n            this.equipmentList = res.data\r\n            console.log(this.equipmentList)\r\n          })\r\n          .catch(error => {\r\n            console.log(error)\r\n          })\r\n      },\r\n  \r\n      async fetchEquipmentTypes() {\r\n        try {\r\n          const res = await axios.get('http://localhost:8080/equipmenttypeList');\r\n          this.equipmentTypes.push(...res.data);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      },\r\n      async getEquipmentList() {\r\n        try {\r\n          const response = await axios.get('http://localhost:8080/allMedicine');\r\n          this.medicineList = response.data.data;\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      },\r\n  \r\n      updateEquipmentList(newList) {\r\n        this.equipmentList = newList;\r\n      },\r\n  \r\n      detail(item) {\r\n        this.$router.push({\r\n          path: '/detail',\r\n          query: {\r\n            id: item.id,\r\n          },\r\n        });\r\n      },\r\n  \r\n      async insertCollect(item) {\r\n        if (this.isLoading) {\r\n          return;\r\n        }\r\n        try {\r\n          this.isLoading = true;\r\n          const response = await axios.get('http://localhost:8080/collect', {\r\n            params: {\r\n              userid: sessionStorage.getItem('userid'),\r\n              equipmentid: item.id,\r\n            },\r\n          });\r\n          if (response.status === 200) {\r\n            if (response.data === '当前商品已收藏') {\r\n              this.$message.error('当前商品已收藏');\r\n            } else if (response.data === '收藏成功') {\r\n              this.$message.success('收藏成功');\r\n              item.isCollected = true;\r\n            } else if (response.data === '收藏失败，请稍后再试') {\r\n              this.$message.error('收藏失败，请稍后再试');\r\n            }\r\n          }\r\n        } catch (error) {\r\n          console.error(error);\r\n        } finally {\r\n          this.isLoading = false;\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n    \r\n  <style scoped>\r\n  .body {\r\n    margin-top: 100px;\r\n  }\r\n  \r\n  h2{\r\n    font-weight: bold;\r\n    font-family: \"Microsoft YaHei\", 黑体, sans-serif;\r\n  }\r\n  \r\n  .equipment-item {\r\n    display: flex;\r\n    margin-bottom: 20px;\r\n    background-color: #fff;\r\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);\r\n    border: 1px solid #cccccc;\r\n    /* 添加淡黑色边框 */\r\n  }\r\n  \r\n  .equipment-list {\r\n    margin-top: 15px;\r\n  }\r\n  \r\n  .img-wrapper {\r\n    width: 35%;\r\n    padding: 10px 10px 10px 200px;\r\n    /* 左右留白150px，上下10px */\r\n    margin: 0 10px 0 0;\r\n    /* 水平间距10px */\r\n  }\r\n  \r\n  .img-wrapper img {\r\n    display: block;\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n  \r\n  .info-wrapper {\r\n    width: 165%;\r\n    padding: 10px 150px 10px 10px;\r\n    /* 左右留白150px，上下10px */\r\n    margin: 0 0 0 10px;\r\n    /* 水平间距10px */\r\n  }\r\n  \r\n  .title {\r\n    font-weight: bold;\r\n    font-size: 18px;\r\n    color: #333;\r\n    margin-bottom: 5px;\r\n  }\r\n  \r\n  .price {\r\n    font-size: 16px;\r\n    color: red;\r\n    margin-bottom: 10px;\r\n  }\r\n  \r\n  .feature,\r\n  .material {\r\n    font-size: 14px;\r\n    color: #555;\r\n    margin-bottom: 5px;\r\n  }\r\n  \r\n  .buy-button {\r\n    padding: 8px 18px;\r\n    border: none;\r\n    background-color: #1bb1c4;\r\n    color: #fff;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  .collect-button {\r\n    padding: 8px 18px;\r\n    border: none;\r\n    background-color: #da7bc4;\r\n    color: #fff;\r\n    cursor: pointer;\r\n    margin-left: 10px;\r\n  }\r\n  \r\n  .buy-button:hover {\r\n    background-color: #ff9f3e;\r\n  }\r\n  \r\n  .select {\r\n    margin-left: 10%;\r\n  }\r\n  \r\n  .header-search {\r\n    margin-right: 35%;\r\n  }\r\n  \r\n  .search-input {\r\n    border: 2px solid #7ec8e3;\r\n    border-radius: 0;\r\n    padding: 6px 12px;\r\n    font-size: 14px;\r\n    color: #333;\r\n    width: 400px;\r\n    height: 30px;\r\n    border-right-color: transparent; /* 将右侧边框的颜色设置为透明 */\r\n  }\r\n  \r\n  \r\n  \r\n  .search-btn {\r\n    height: 46px;\r\n    width: 100px;\r\n    border: none;\r\n    border-radius: 0px;\r\n    padding: 6px 16px;\r\n    font-size: 14px;\r\n    color: #fff;\r\n    background-color: #3d7f00;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  .container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  </style>\r\n    "]},"metadata":{},"sourceType":"module"}