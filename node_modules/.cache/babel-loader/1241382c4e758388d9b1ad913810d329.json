{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7b5ee6c5\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"container\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"User List\", -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = {\n  key: 2\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" 点击禁用 \");\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\" 激活账号 \");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n\n  const _component_el_image = _resolveComponent(\"el-image\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_table = _resolveComponent(\"el-table\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createVNode(_component_el_table, {\n    data: $data.users,\n    border: \"\",\n    stripe: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"userId\",\n      label: \"用户ID\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"username\",\n      label: \"用户名\"\n    }), _createVNode(_component_el_table_column, {\n      label: \"头像\"\n    }, {\n      default: _withCtx(scope => [_createVNode(_component_el_image, {\n        style: {\n          \"width\": \"100px\",\n          \"height\": \"100px\"\n        },\n        src: scope.row.picture,\n        fit: _ctx.fit\n      }, null, 8\n      /* PROPS */\n      , [\"src\", \"fit\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_table_column, {\n      prop: \"telephone\",\n      label: \"联系方式\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"gender\",\n      label: \"性别\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"age\",\n      label: \"年龄\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"status\",\n      label: \"当前状态\"\n    }, {\n      default: _withCtx(scope => [scope.row.status === 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"未激活\")) : scope.row.status === 1 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \"使用中\")) : scope.row.status === 2 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"已禁用\")) : _createCommentVNode(\"v-if\", true)]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_table_column, {\n      label: \"操作\",\n      width: \"120\"\n    }, {\n      default: _withCtx(scope => [scope.row.status === 1 ? (_openBlock(), _createBlock(_component_el_button, {\n        key: 0,\n        type: \"danger\",\n        size: \"small\",\n        onClick: $event => $options.disableUser(scope.row)\n      }, {\n        default: _withCtx(() => [_hoisted_6]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"onClick\"])) : scope.row.status === 0 ? (_openBlock(), _createBlock(_component_el_button, {\n        key: 1,\n        type: \"primary\",\n        size: \"small\",\n        onClick: $event => $options.activateUser(scope.row)\n      }, {\n        default: _withCtx(() => [_hoisted_7]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"onClick\"])) : _createCommentVNode(\"v-if\", true)]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"data\"])]);\n}","map":{"version":3,"mappings":";;;;;AACOA,OAAK,EAAC;;;gEACTC,oBAAkB,IAAlB,EAAkB,IAAlB,EAAI,WAAJ,EAAa;AAAA;AAAb;;;;;;;;;;;;iDAqB0G;;iDAGO;;;;;;;;;;;uBAzBnHC,oBA+BM,KA/BN,cA+BM,CA9BJC,UA8BI,EA7BJC,aA4BWC,mBA5BX,EA4BW;AA5BAC,QAAI,EAAEC,WA4BN;AA5BaC,UAAM,EAAN,EA4Bb;AA5BoBC,UAAM,EAAN;AA4BpB,GA5BX;sBACE,MAA8D,CAA9DL,aAA8DM,0BAA9D,EAA8D;AAA7CC,UAAI,EAAC,QAAwC;AAA/BC,WAAK,EAAC;AAAyB,KAA9D,CAA8D,EAC9DR,aAA+DM,0BAA/D,EAA+D;AAA9CC,UAAI,EAAC,UAAyC;AAA9BC,WAAK,EAAC;AAAwB,KAA/D,CAD8D,EAE9DR,aAIkBM,0BAJlB,EAIkB;AAJDE,WAAK,EAAC;AAIL,KAJlB,EAA2B;AACdC,aAAO,WAAEC,KAClB,IADuB,CACvBV,aAAoFW,mBAApF,EAAoF;AAA1EC,aAAmC,EAAnC;AAAA;AAAA;AAAA,SAA0E;AAArCC,WAAG,EAAEH,KAAK,CAACI,GAAN,CAAUC,OAAsB;AAAZC,WAAG,EAAEC;AAAO,OAApF;;AAAA,uBADuB,CAAP,CADO;;;;AAAA,KAA3B,CAF8D,EAO9DjB,aAAiEM,0BAAjE,EAAiE;AAAhDC,UAAI,EAAC,WAA2C;AAA/BC,WAAK,EAAC;AAAyB,KAAjE,CAP8D,EAQ9DR,aAA4DM,0BAA5D,EAA4D;AAA3CC,UAAI,EAAC,QAAsC;AAA7BC,WAAK,EAAC;AAAuB,KAA5D,CAR8D,EAS9DR,aAAyDM,0BAAzD,EAAyD;AAAxCC,UAAI,EAAC,KAAmC;AAA7BC,WAAK,EAAC;AAAuB,KAAzD,CAT8D,EAU9DR,aAMkBM,0BANlB,EAMkB;AANDC,UAAI,EAAC,QAMJ;AANaC,WAAK,EAAC;AAMnB,KANlB;wBACoBE,KAChB,IADqB,CACTA,KAAK,CAACI,GAAN,CAAUI,MAAV,KAAgB,mBAA5BpB,oBAA8C,MAA9C,EAA8CqB,UAA9C,EAAoC,KAApC,KACiBT,KAAK,CAACI,GAAN,CAAUI,MAAV,KAAgB,mBAAjCpB,oBAAmD,MAAnD,EAAmDsB,UAAnD,EAAyC,KAAzC,KACiBV,KAAK,CAACI,GAAN,CAAUI,MAAV,KAAgB,mBAAjCpB,oBAAmD,MAAnD,EAAmDuB,UAAnD,EAAyC,KAAzC,sCAHqB;;;;KADzB,CAV8D,EAiB9DrB,aASkBM,0BATlB,EASkB;AATDE,WAAK,EAAC,IASL;AATUc,WAAK,EAAC;AAShB,KATlB;AACab,aAAO,WAAEC,KAClB,IADuB,CACNA,KAAK,CAACI,GAAN,CAAUI,MAAV,KAAgB,mBAAjCK,aAEYC,oBAFZ,EAEY;cAAA;AAF6BC,YAAI,EAAC,QAElC;AAF2CC,YAAI,EAAC,OAEhD;AAFyDC,eAAK,YAAEC,qBAAYlB,KAAK,CAACI,GAAlB;AAEhE,OAFZ;0BAAoG,MAEpG;;;;OAFA;;AAAA,wBAGsBJ,KAAK,CAACI,GAAN,CAAUI,MAAV,KAAgB,mBAAtCK,aAEYC,oBAFZ,EAEY;cAAA;AAFkCC,YAAI,EAAC,SAEvC;AAFiDC,YAAI,EAAC,OAEtD;AAF+DC,eAAK,YAAEC,sBAAalB,KAAK,CAACI,GAAnB;AAEtE,OAFZ;0BAA2G,MAE3G;;;;OAFA;;AAAA,yDAJuB,CAAP;;;;KADpB,CAjB8D;;;;GADhE;;AAAA,aA6BI,CA/BN","names":["class","_createElementVNode","_createElementBlock","_hoisted_2","_createVNode","_component_el_table","data","$data","border","stripe","_component_el_table_column","prop","label","default","scope","_component_el_image","style","src","row","picture","fit","_ctx","status","_hoisted_3","_hoisted_4","_hoisted_5","width","_createBlock","_component_el_button","type","size","onClick","$options"],"sourceRoot":"","sources":["D:\\Dev\\Front\\Remote_Medical_Consultation_Platform_Vue\\src\\views\\Admin\\user.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1>User List</h1>\r\n    <el-table :data=\"users\" border stripe>\r\n      <el-table-column prop=\"userId\" label=\"用户ID\"></el-table-column>\r\n      <el-table-column prop=\"username\" label=\"用户名\"></el-table-column>\r\n      <el-table-column label=\"头像\">\r\n        <template #default=\"scope\">\r\n          <el-image style=\"width: 100px; height: 100px\" :src=\"scope.row.picture\" :fit=\"fit\" />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"telephone\" label=\"联系方式\"></el-table-column>\r\n      <el-table-column prop=\"gender\" label=\"性别\"></el-table-column>\r\n      <el-table-column prop=\"age\" label=\"年龄\"></el-table-column>\r\n      <el-table-column prop=\"status\" label=\"当前状态\">\r\n        <template v-slot=\"scope\">\r\n          <span v-if=\"scope.row.status === 0\">未激活</span>\r\n          <span v-else-if=\"scope.row.status === 1\">使用中</span>\r\n          <span v-else-if=\"scope.row.status === 2\">已禁用</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"120\">\r\n        <template #default=\"scope\">\r\n          <el-button v-if=\"scope.row.status === 1\" type=\"danger\" size=\"small\" @click=\"disableUser(scope.row)\">\r\n            点击禁用\r\n          </el-button>\r\n          <el-button v-else-if=\"scope.row.status === 0\" type=\"primary\" size=\"small\" @click=\"activateUser(scope.row)\">\r\n            激活账号\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      users: []\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchUsers()\r\n  },\r\n  methods: {\r\n    async fetchUsers() {\r\n      try {\r\n        const response = await axios.get('http://localhost:8081/user/all')\r\n        this.users = response.data.data\r\n      } catch (error) {\r\n        console.error('Error fetching users:', error)\r\n      }\r\n    },\r\n    async disableUser(user) {\r\n      try {\r\n        await axios.put(`http://localhost:8081/user/disable?userId=${user.userId}`)\r\n        this.$message.success('当前账号已禁用')\r\n        this.fetchUsers()\r\n      } catch (error) {\r\n        console.error('Error disabling user:', error)\r\n      }\r\n    },\r\n    async activateUser(user) {\r\n      try {\r\n        await axios.put(`http://localhost:8081/user/activate?userId=${user.userId}`)\r\n        this.$message.success('当前账号已激活')\r\n        this.fetchUsers()\r\n      } catch (error) {\r\n        console.error('Error activating user:', error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  margin: 20px auto;\r\n  max-width: 800px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}