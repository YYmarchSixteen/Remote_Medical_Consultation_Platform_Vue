{"ast":null,"code":"import { ref } from '@vue/reactivity';\nimport axios from 'axios';\nexport default {\n  name: 'LoginRegister',\n\n  data() {\n    return {\n      BASE_URL: 'http://localhost:8080/',\n      form: {\n        username: '',\n        password: '',\n        age: '',\n        sex: '',\n        telephone: '',\n        address: ''\n      },\n      types: [],\n      value: '',\n      regMsg: ''\n    };\n  },\n\n  setup() {\n    const rules = ref({\n      username: [{\n        required: true,\n        message: '请填写账户',\n        trigger: 'blur'\n      }],\n      password: [{\n        required: true,\n        message: '请填写密码',\n        trigger: 'blur'\n      }],\n      age: [{\n        required: true,\n        message: '请填写年龄',\n        trigger: 'blur'\n      }],\n      telephone: [{\n        required: true,\n        message: '请填写电话',\n        trigger: 'blur'\n      }],\n      address: [{\n        required: true,\n        message: '请填写地址',\n        trigger: 'blur'\n      }]\n    });\n    return {\n      rules\n    };\n  },\n\n  mounted() {},\n\n  methods: {\n    regForm() {\n      this.$refs.formRef.validate(valid => {\n        if (valid) {\n          axios.post('http://localhost:8080/register', {\n            username: this.form.username,\n            password: this.form.password,\n            age: this.form.age,\n            sex: this.form.sex,\n            telephone: this.form.telephone,\n            address: this.form.address\n          }).then(res => {\n            this.regMsg = res.data.msg;\n\n            if (res.data.code === 200) {\n              this.$message.success('注册成功！');\n              this.$router.push(\"/\");\n            } else if (res.data.code === '409') {\n              this.$message.error('用户名已存在,注册失败！');\n            } else {\n              this.$message.success('注册失败！');\n            }\n\n            console.log(res.data.code);\n          }).catch(error => {\n            console.log(error);\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqDA,SAASA,GAAT,QAAoB,iBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,MAAI,EAAE,eADO;;AAEbC,MAAI,GAAG;AACL,WAAO;AACLC,cAAQ,EAAE,wBADL;AAELC,UAAI,EAAE;AACJC,gBAAQ,EAAE,EADN;AAEJC,gBAAQ,EAAE,EAFN;AAGJC,WAAG,EAAE,EAHD;AAIJC,WAAG,EAAE,EAJD;AAKJC,iBAAS,EAAE,EALP;AAMJC,eAAO,EAAE;AANL,OAFD;AAULC,WAAK,EAAE,EAVF;AAWLC,WAAK,EAAE,EAXF;AAYLC,YAAM,EAAE;AAZH,KAAP;AAcD,GAjBY;;AAkBbC,OAAK,GAAG;AACN,UAAMC,KAAI,GAAIhB,GAAG,CAAC;AAChBM,cAAQ,EAAE,CACR;AACEW,gBAAQ,EAAE,IADZ;AAEEC,eAAO,EAAE,OAFX;AAGEC,eAAO,EAAE;AAHX,OADQ,CADM;AAQhBZ,cAAQ,EAAE,CACR;AACEU,gBAAQ,EAAE,IADZ;AAEEC,eAAO,EAAE,OAFX;AAGEC,eAAO,EAAE;AAHX,OADQ,CARM;AAehBX,SAAG,EAAE,CACH;AACES,gBAAQ,EAAE,IADZ;AAEEC,eAAO,EAAE,OAFX;AAGEC,eAAO,EAAE;AAHX,OADG,CAfW;AAsBhBT,eAAS,EAAE,CACT;AACEO,gBAAQ,EAAE,IADZ;AAEEC,eAAO,EAAE,OAFX;AAGEC,eAAO,EAAE;AAHX,OADS,CAtBK;AA6BhBR,aAAO,EAAE,CACP;AACEM,gBAAQ,EAAE,IADZ;AAEEC,eAAO,EAAE,OAFX;AAGEC,eAAO,EAAE;AAHX,OADO;AA7BO,KAAD,CAAjB;AAsCA,WAAO;AAAEH;AAAF,KAAP;AACD,GA1DY;;AA2DbI,SAAO,GAAG,CAAG,CA3DA;;AA4DbC,SAAO,EAAE;AACPC,WAAO,GAAG;AACR,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,QAAnB,CAA6BC,KAAD,IAAW;AACrC,YAAIA,KAAJ,EAAW;AACTzB,eAAK,CAAC0B,IAAN,CAAW,gCAAX,EAA6C;AAC3CrB,oBAAQ,EAAE,KAAKD,IAAL,CAAUC,QADuB;AAE3CC,oBAAQ,EAAE,KAAKF,IAAL,CAAUE,QAFuB;AAG3CC,eAAG,EAAE,KAAKH,IAAL,CAAUG,GAH4B;AAI3CC,eAAG,EAAE,KAAKJ,IAAL,CAAUI,GAJ4B;AAK3CC,qBAAS,EAAE,KAAKL,IAAL,CAAUK,SALsB;AAM3CC,mBAAO,EAAE,KAAKN,IAAL,CAAUM;AANwB,WAA7C,EAQGiB,IARH,CAQSC,GAAD,IAAS;AACb,iBAAKf,MAAL,GAAce,GAAG,CAAC1B,IAAJ,CAAS2B,GAAvB;;AACA,gBAAID,GAAG,CAAC1B,IAAJ,CAAS4B,IAAT,KAAkB,GAAtB,EAA2B;AACzB,mBAAKC,QAAL,CAAcC,OAAd,CAAsB,OAAtB;AACA,mBAAKC,OAAL,CAAaC,IAAb,CAAkB,GAAlB;AACF,aAHA,MAGO,IAAIN,GAAG,CAAC1B,IAAJ,CAAS4B,IAAT,KAAkB,KAAtB,EAA6B;AAClC,mBAAKC,QAAL,CAAcI,KAAd,CAAoB,cAApB;AACF,aAFO,MAEA;AACL,mBAAKJ,QAAL,CAAcC,OAAd,CAAsB,OAAtB;AACF;;AACAI,mBAAO,CAACC,GAAR,CAAYT,GAAG,CAAC1B,IAAJ,CAAS4B,IAArB;AACD,WAnBH,EAoBGQ,KApBH,CAoBUH,KAAD,IAAW;AAChBC,mBAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,WAtBH;AAuBF,SAxBA,MAwBO;AACL,iBAAO,KAAP;AACF;AACD,OA5BD;AA6BD;;AA/BM;AA5DI,CAAf","names":["ref","axios","name","data","BASE_URL","form","username","password","age","sex","telephone","address","types","value","regMsg","setup","rules","required","message","trigger","mounted","methods","regForm","$refs","formRef","validate","valid","post","then","res","msg","code","$message","success","$router","push","error","console","log","catch"],"sourceRoot":"","sources":["D:\\Dev\\Front\\finalProject\\src\\views\\Login\\Reg.vue"],"sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <el-form :model=\"form\" label-position=\"top\" :rules=\"rules\" ref=\"formRef\" @submit.prevent=\"regForm\">\r\n      <div class=\"back_img\"></div>\r\n      <div class=\"login\">\r\n        <div class=\"lgoinImg\">\r\n          <img src=\"../../assets/img/3.webp\" />\r\n        </div>\r\n        <div class=\"login_title\"></div>\r\n        <div class=\"login_input\">\r\n          <el-form-item prop=\"username\">\r\n            <el-input prefix-icon=\"User\" placeholder=\"请输入账号\" v-model=\"form.username\" :name=\"'username'\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <div class=\"login_input\">\r\n          <el-form-item prop=\"password\">\r\n            <el-input prefix-icon=\"Lock\" placeholder=\"请输入密码\" show-password v-model=\"form.password\"\r\n              :name=\"'password'\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <div class=\"login_input\">\r\n          <el-form-item prop=\"age\">\r\n            <el-input prefix-icon=\"clock\" placeholder=\"请输入年龄\" v-model=\"form.age\" :name=\"'age'\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <div class=\"login_input\">\r\n          <el-form-item prop=\"telephone\">\r\n            <el-input prefix-icon=\"Phone\" placeholder=\"请输入电话\" v-model=\"form.telephone\" :name=\"'telephone'\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <div class=\"login_input\">\r\n          <el-form-item prop=\"address\">\r\n            <el-input prefix-icon=\"Location\" placeholder=\"请输入地址\" v-model=\"form.address\" :name=\"'address'\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <div class=\"login_input\">\r\n          <el-form-item prop=\"sex\">请选择您的性别:&nbsp;&nbsp;\r\n            <el-radio-group v-model=\"form.sex\" :name=\"'sex'\">\r\n              <el-radio label=\"1\">男</el-radio>\r\n              <el-radio label=\"0\">女</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </div>\r\n        <div class=\"login_button\">\r\n          <p @click=\"regForm\">注册</p>\r\n        </div>\r\n      </div>\r\n    </el-form>\r\n    <p style=\"color:red\">{{ regMsg }}</p>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport { ref } from '@vue/reactivity';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'LoginRegister',\r\n  data() {\r\n    return {\r\n      BASE_URL: 'http://localhost:8080/',\r\n      form: {\r\n        username: '',\r\n        password: '',\r\n        age: '',\r\n        sex: '',\r\n        telephone: '',\r\n        address: '',\r\n      },\r\n      types: [],\r\n      value: '',\r\n      regMsg: '',\r\n    };\r\n  },\r\n  setup() {\r\n    const rules = ref({\r\n      username: [\r\n        {\r\n          required: true,\r\n          message: '请填写账户',\r\n          trigger: 'blur',\r\n        },\r\n      ],\r\n      password: [\r\n        {\r\n          required: true,\r\n          message: '请填写密码',\r\n          trigger: 'blur',\r\n        },\r\n      ],\r\n      age: [\r\n        {\r\n          required: true,\r\n          message: '请填写年龄',\r\n          trigger: 'blur',\r\n        },\r\n      ],\r\n      telephone: [\r\n        {\r\n          required: true,\r\n          message: '请填写电话',\r\n          trigger: 'blur',\r\n        },\r\n      ],\r\n      address: [\r\n        {\r\n          required: true,\r\n          message: '请填写地址',\r\n          trigger: 'blur',\r\n        },\r\n      ],\r\n    });\r\n\r\n    return { rules };\r\n  },\r\n  mounted() { },\r\n  methods: {\r\n    regForm() {\r\n      this.$refs.formRef.validate((valid) => {\r\n        if (valid) {\r\n          axios.post('http://localhost:8080/register', {\r\n            username: this.form.username,\r\n            password: this.form.password,\r\n            age: this.form.age,\r\n            sex: this.form.sex,\r\n            telephone: this.form.telephone,\r\n            address: this.form.address,\r\n          })\r\n            .then((res) => {\r\n              this.regMsg = res.data.msg;\r\n              if (res.data.code === 200) {\r\n                this.$message.success('注册成功！');\r\n                this.$router.push(\"/\")\r\n              } else if (res.data.code === '409') {\r\n                this.$message.error('用户名已存在,注册失败！');\r\n              } else {\r\n                this.$message.success('注册失败！');\r\n              }\r\n              console.log(res.data.code)\r\n            })\r\n            .catch((error) => {\r\n              console.log(error);\r\n            });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n  \r\n<style scoped>\r\n.login_input {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.login_input label {\r\n  margin-right: 10px;\r\n  font-weight: bold;\r\n}\r\n\r\n.login_input .el-radio-group {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.login_input .el-radio-group .el-radio {\r\n  margin-right: 10px;\r\n}\r\n.back_img {\r\n  background: url('../../assets/bk.jpg');\r\n  background-size: 100% 100%;\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n\r\n.login {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background: #fff;\r\n  opacity: 0.9;\r\n  padding: 30px;\r\n  width: 18%;\r\n  border: 1px solid #eee;\r\n  border-radius: 20px;\r\n}\r\n\r\n.lgoinImg {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.lgoinImg img {\r\n  width: 110px;\r\n  height: 110px;\r\n  background: #eceeed;\r\n  border-radius: 50%;\r\n  border: 10px solid #fff;\r\n}\r\n\r\n.login_title {\r\n  text-align: center;\r\n  padding-bottom: 20px;\r\n}\r\n\r\n.login_input {\r\n  margin-top: 15px;\r\n}\r\n\r\n.login_input:nth-child(2) {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.login_input:nth-child(3) {\r\n  margin-top: 20px;\r\n}\r\n\r\n.login_input:nth-child(4) {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.login_button {\r\n  margin-top: 20px;\r\n  display: flex;\r\n}\r\n\r\n.login_button p {\r\n  color: #fff;\r\n  font-size: 15px;\r\n  display: block;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n.login_button p:nth-child(1) {\r\n  background: #409eff;\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n  "]},"metadata":{},"sourceType":"module"}