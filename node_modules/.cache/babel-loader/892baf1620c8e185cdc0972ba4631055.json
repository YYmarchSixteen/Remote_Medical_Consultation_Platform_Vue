{"ast":null,"code":"import { ElMessage } from 'element-plus';\nimport { get } from '@/utils/request';\nexport default {\n  name: 'DrugIndex',\n\n  data() {\n    return {\n      types: [],\n      dialogVisible: false,\n      dialogVisible1: false,\n      dialogVisible2: false,\n      Edit: [],\n      form: [],\n      value2: false,\n      //二级联动\n      options: [],\n      selectedOptions: [],\n      selectedOptions1: [] //   defaultParams: {\n      //     label: 'departmentName',\n      //     value: 'departmentId',\n      //     children: 'children'\n      //   }\n\n    };\n  },\n\n  mounted() {\n    // get('/getDoctors').then((res) => {\n    //   this.types = res.data\n    //   console.log(this.types)\n    // }),\n    get('/getPage').then(res => {\n      this.options = res.data;\n      console.log(this.options);\n    });\n  },\n\n  methods: {\n    //分配账号\n    allocation(row) {\n      this.Edit = row.row;\n      this.selectedOptions1[0] = this.Edit.departId1;\n      this.selectedOptions1[1] = this.Edit.departId2;\n      console.log(this.Edit);\n      console.log(this.selectedOptions1);\n      this.dialogVisible2 = !this.dialogVisible2;\n    },\n\n    shiqu() {\n      window.location.reload();\n    },\n\n    quxiao() {\n      this.dialogVisible = !this.dialogVisible;\n    },\n\n    updatedoctor() {\n      this.dialogVisible = !this.dialogVisible;\n      console.log(this.Edit);\n      console.log(this.Edit); //修改医生\n\n      get('/updateDoctors', {\n        docId: this.Edit.docId,\n        docName: this.Edit.docName,\n        docTitle: this.Edit.docTitle,\n        politicstatus: this.Edit.politicstatus,\n        education: this.Edit.education,\n        telephone: this.Edit.telephone,\n        nation: this.Edit.nation,\n        introduction: this.Edit.introduction,\n        departId1: this.selectedOptions1[0],\n        departId2: this.selectedOptions1[1]\n      });\n      ElMessage({\n        message: '修改成功',\n        type: 'success'\n      });\n    },\n\n    //编辑医生\n    handleDiaClick(row) {\n      this.dialogVisible = !this.dialogVisible;\n      this.Edit = row.row;\n      this.selectedOptions1[0] = this.Edit.departId1;\n      this.selectedOptions1[1] = this.Edit.departId2;\n      console.log(this.Edit);\n      console.log(this.selectedOptions);\n    },\n\n    handleChange(value) {\n      this.Edit.departId1 = value[0];\n      this.Edit.departId2 = value[1];\n      console.log(value);\n    },\n\n    addoctor() {\n      this.dialogVisible1 = !this.dialogVisible1;\n    },\n\n    //添加医生\n    edit1() {\n      this.dialogVisible1 = !this.dialogVisible1;\n      get('/addDoctors', {\n        docName: this.form.doc_name,\n        docTitle: this.form.doc_title,\n        education: this.form.education,\n        nation: this.form.nation,\n        politicstatus: this.form.region,\n        sex: this.form.resource,\n        telephone: this.form.telephone,\n        departId1: this.form.selectedOptions[0],\n        departId2: this.form.selectedOptions[1]\n      });\n      ElMessage({\n        message: '添加成功',\n        type: 'success'\n      });\n      window.location.reload();\n      console.log(this.form);\n    },\n\n    edit() {\n      this.dialogVisible = !this.dialogVisible;\n    },\n\n    deleks(row) {\n      console.log(row.row.docId);\n      get('/deleteDoctors', {\n        docId: row.row.docId\n      });\n      ElMessage({\n        message: '删除成功',\n        type: 'success'\n      });\n      window.location.reload();\n    },\n\n    //分配账号\n    fenpei() {\n      this.dialogVisible2 = !this.dialogVisible2;\n      get('/registerUser', {\n        userName: this.Edit.userName,\n        telephone: this.Edit.telephone,\n        realName: this.Edit.docName,\n        password: 123456,\n        userRole: 'doctor'\n      }).then(row => {\n        console.log(row);\n\n        if (row.data.code == 0) {\n          get('/updateDoctors', {\n            docId: this.Edit.docId,\n            userName: this.Edit.userName,\n            departId1: this.selectedOptions1[0],\n            departId2: this.selectedOptions1[1]\n          });\n          ElMessage({\n            message: '分配成功',\n            type: 'success'\n          });\n        } else {\n          ElMessage({\n            message: '分配失败，已经账号',\n            type: 'error'\n          });\n          window.location.reload();\n        }\n      });\n    },\n\n    tuijina(row) {\n      console.log(\"============================\");\n      console.log(row.row.id);\n      get('/updateRecommend2', {\n        docId: row.row.id,\n        recommend: row.row.recommend\n      });\n      ElMessage({\n        message: '修改成功',\n        type: 'success'\n      });\n      window.location.reload();\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["ElMessage","get","name","data","types","dialogVisible","dialogVisible1","dialogVisible2","Edit","form","value2","options","selectedOptions","selectedOptions1","mounted","then","res","console","log","methods","allocation","row","departId1","departId2","shiqu","window","location","reload","quxiao","updatedoctor","docId","docName","docTitle","politicstatus","education","telephone","nation","introduction","message","type","handleDiaClick","handleChange","value","addoctor","edit1","doc_name","doc_title","region","sex","resource","edit","deleks","fenpei","userName","realName","password","userRole","code","tuijina","id","recommend"],"sourceRoot":"","sources":["D:\\小学期vscode\\demo01\\src\\views\\System\\index.vue"],"sourcesContent":["<template>\r\n  <el-button type=\"primary\" @click=\"addoctor\" class=\"box-card1\">\r\n    添加医生\r\n  </el-button>\r\n  <el-card class=\"box-card\">\r\n    <el-table :data=\"types\" stripe style=\"width: 100%\" height=\"500\">\r\n      <el-table-column prop=\"id\" label=\"轮播图id\" width=\"150\" />\r\n      <el-table-column prop=\"title\" label=\"标题\" width=\"150\" />\r\n\r\n      <el-table-column prop=\"img\" label=\"头像\" sortable width=\"150\">\r\n        <!--插入图片链接的代码-->\r\n        <template #default=\"row\">\r\n          <el-image :src=\"row.row.img\" style=\"width: 70px; height: 70px\" />\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"是否推荐\" width=\"150\">\r\n        <template #default=\"row\">\r\n          <el-switch v-model=\"row.row.recommend\" class=\"mt-2\"  @click=\"tuijina(row)\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column fixed=\"right\" label=\"操作\" width=\"310\">\r\n        <template #default=\"row\">\r\n          <el-button type=\"success\" @click=\"handleDiaClick(row)\">\r\n            更多编辑\r\n          </el-button>\r\n          <!-- 删除确认框 -->\r\n          <el-popconfirm title=\"确定要删除吗?\" @confirm=\"deleks(row)\">\r\n            <template #reference>\r\n              <el-button type=\"danger\">删除</el-button>\r\n            </template>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 编辑 -->\r\n    <el-dialog v-model=\"dialogVisible\" title=\"编辑\" width=\"30%\" @close=\"shiqu\">\r\n      <el-form label-width=\"100px\">\r\n        <el-form-item label=\"用户名\" :data=\"types\">\r\n          <el-input v-model=\"Edit.docName\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"职位\" :data=\"types\">\r\n          <el-input v-model=\"Edit.docTitle\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"政治面貌\" :data=\"types\">\r\n          <el-input v-model=\"Edit.politicstatus\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"学历\" :data=\"types\">\r\n          <el-input v-model=\"Edit.education\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"电话\" :data=\"types\">\r\n          <el-input v-model=\"Edit.telephone\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"民族\" :data=\"types\">\r\n          <el-input v-model=\"Edit.nation\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"科室\">\r\n          <el-cascader\r\n            :data=\"types\"\r\n            :props=\"defaultParams\"\r\n            :options=\"options\"\r\n            v-model=\"selectedOptions1\"\r\n            @change=\"handleChange\"\r\n          ></el-cascader>\r\n        </el-form-item>\r\n        <el-form-item label=\"个人简历\">\r\n          <el-input\r\n            v-model=\"Edit.introduction\"\r\n            :rows=\"2\"\r\n            type=\"textarea\"\r\n            placeholder=\"Please input\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"quxiao()\">取消</el-button>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"updatedoctor()\"\r\n            v-model=\"dialogVisible\"\r\n            >确认</el-button\r\n          >\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n    <!-- 添加医生 -->\r\n    <el-dialog v-model=\"dialogVisible1\" title=\"添加医生\" width=\"30%\">\r\n      <el-form label-width=\"120px\">\r\n        <el-form-item label=\"姓名\">\r\n          <el-input v-model=\"form.doc_name\" width=\"250\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"民族\">\r\n          <el-input v-model=\"form.nation\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"职位\">\r\n          <el-input v-model=\"form.doc_title\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"学历\">\r\n          <el-input v-model=\"form.education\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"电话\">\r\n          <el-input v-model=\"form.telephone\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"面貌\">\r\n          <el-select v-model=\"form.region\" placeholder=\"请选择\">\r\n            <el-option label=\"共产党员\" value=\"共产党员\" />\r\n            <el-option label=\"群众\" value=\"群众\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <!-- 科室选择二级联动 -->\r\n        <el-form-item label=\"科室\">\r\n          <el-cascader\r\n            :props=\"defaultParams\"\r\n            :options=\"options\"\r\n            v-model=\"form.selectedOptions\"\r\n            @change=\"handleChange\"\r\n          ></el-cascader>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\">\r\n          <el-radio-group v-model=\"form.resource\">\r\n            <el-radio label=\"男\" />\r\n            <el-radio label=\"女\" />\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible1 = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"edit1()\" v-model=\"dialogVisible1\"\r\n            >确认</el-button\r\n          >\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <!-- 分配账号 -->\r\n    <el-dialog v-model=\"dialogVisible2\" title=\"分配账号\" width=\"30%\">\r\n      <el-form label-width=\"120px\">\r\n        <el-form-item label=\"用户名\" :data=\"types\">\r\n          <el-input v-model=\"Edit.userName\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible2 = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"fenpei()\" v-model=\"dialogVisible2\"\r\n            >确认</el-button\r\n          >\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { ElMessage } from 'element-plus'\r\nimport { get } from '@/utils/request'\r\nexport default {\r\n  name: 'DrugIndex',\r\n  data() {\r\n    return {\r\n      types: [],\r\n      dialogVisible: false,\r\n      dialogVisible1: false,\r\n      dialogVisible2: false,\r\n      Edit: [],\r\n      form: [],\r\n      value2: false,\r\n      //二级联动\r\n      options: [],\r\n      selectedOptions: [],\r\n      selectedOptions1: [],\r\n    //   defaultParams: {\r\n    //     label: 'departmentName',\r\n    //     value: 'departmentId',\r\n    //     children: 'children'\r\n    //   }\r\n    }\r\n  },\r\n  mounted() {\r\n    // get('/getDoctors').then((res) => {\r\n    //   this.types = res.data\r\n    //   console.log(this.types)\r\n    // }),\r\n      get('/getPage').then((res) => {\r\n        this.options = res.data\r\n        console.log(this.options)\r\n      })\r\n  },\r\n  methods: {\r\n    //分配账号\r\n    allocation(row) {\r\n      this.Edit = row.row\r\n      this.selectedOptions1[0] = this.Edit.departId1\r\n      this.selectedOptions1[1] = this.Edit.departId2\r\n      console.log(this.Edit)\r\n      console.log(this.selectedOptions1)\r\n      this.dialogVisible2 = !this.dialogVisible2\r\n    },\r\n    shiqu() {\r\n      window.location.reload()\r\n    },\r\n    quxiao() {\r\n      this.dialogVisible = !this.dialogVisible\r\n    },\r\n    updatedoctor() {\r\n      this.dialogVisible = !this.dialogVisible\r\n      console.log(this.Edit)\r\n      console.log(this.Edit)\r\n      //修改医生\r\n      get('/updateDoctors', {\r\n        docId: this.Edit.docId,\r\n        docName: this.Edit.docName,\r\n        docTitle: this.Edit.docTitle,\r\n        politicstatus: this.Edit.politicstatus,\r\n        education: this.Edit.education,\r\n        telephone: this.Edit.telephone,\r\n        nation: this.Edit.nation,\r\n        introduction: this.Edit.introduction,\r\n        departId1: this.selectedOptions1[0],\r\n        departId2: this.selectedOptions1[1]\r\n      })\r\n      ElMessage({\r\n        message: '修改成功',\r\n        type: 'success'\r\n      })\r\n    },\r\n    //编辑医生\r\n    handleDiaClick(row) {\r\n      this.dialogVisible = !this.dialogVisible\r\n      this.Edit = row.row\r\n      this.selectedOptions1[0] = this.Edit.departId1\r\n      this.selectedOptions1[1] = this.Edit.departId2\r\n      console.log(this.Edit)\r\n      console.log(this.selectedOptions)\r\n    },\r\n    handleChange(value) {\r\n      this.Edit.departId1 = value[0]\r\n      this.Edit.departId2 = value[1]\r\n      console.log(value)\r\n    },\r\n    addoctor() {\r\n      this.dialogVisible1 = !this.dialogVisible1\r\n    },\r\n    //添加医生\r\n    edit1() {\r\n      this.dialogVisible1 = !this.dialogVisible1\r\n      get('/addDoctors', {\r\n        docName: this.form.doc_name,\r\n        docTitle: this.form.doc_title,\r\n        education: this.form.education,\r\n        nation: this.form.nation,\r\n        politicstatus: this.form.region,\r\n        sex: this.form.resource,\r\n        telephone: this.form.telephone,\r\n        departId1: this.form.selectedOptions[0],\r\n        departId2: this.form.selectedOptions[1]\r\n      })\r\n      ElMessage({\r\n        message: '添加成功',\r\n        type: 'success'\r\n      })\r\n      window.location.reload()\r\n      console.log(this.form)\r\n    },\r\n    edit() {\r\n      this.dialogVisible = !this.dialogVisible\r\n    },\r\n    deleks(row) {\r\n      console.log(row.row.docId)\r\n\r\n      get('/deleteDoctors', {\r\n        docId: row.row.docId\r\n      })\r\n      ElMessage({\r\n        message: '删除成功',\r\n        type: 'success'\r\n      })\r\n      window.location.reload()\r\n    },\r\n    //分配账号\r\n    fenpei() {\r\n      this.dialogVisible2 = !this.dialogVisible2\r\n      get('/registerUser', {\r\n        userName: this.Edit.userName,\r\n        telephone: this.Edit.telephone,\r\n        realName: this.Edit.docName,\r\n        password: 123456,\r\n        userRole: 'doctor'\r\n      }).then((row) => {\r\n        console.log(row)\r\n        if (row.data.code == 0) {\r\n          get('/updateDoctors', {\r\n            docId: this.Edit.docId,\r\n            userName: this.Edit.userName,\r\n            departId1: this.selectedOptions1[0],\r\n            departId2: this.selectedOptions1[1]\r\n          })\r\n          ElMessage({\r\n            message: '分配成功',\r\n            type: 'success'\r\n          })\r\n        } else {\r\n          ElMessage({\r\n            message: '分配失败，已经账号',\r\n            type: 'error'\r\n          })\r\n          window.location.reload()\r\n        }\r\n      })\r\n    },\r\n    tuijina(row) {\r\n      console.log(\"============================\")\r\n      console.log(row.row.id)\r\n      get('/updateRecommend2', {\r\n        docId: row.row.id,\r\n        recommend: row.row.recommend\r\n      })\r\n      ElMessage({\r\n        message: '修改成功',\r\n        type: 'success'\r\n      })\r\n      window.location.reload()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.box-card {\r\n  margin-top: 5px;\r\n  margin-left: 15px;\r\n  margin-right: 15px;\r\n}\r\n.box-card1 {\r\n  margin-top: 5px;\r\n  margin-left: 15px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}